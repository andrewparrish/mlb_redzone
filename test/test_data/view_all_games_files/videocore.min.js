/*! video - v2.8.0 - 2017-05-03*/
function findBrowserVersion(){try{window.VideoCore.utils.callActionscript("getBrowserVersion",BrowserDetect.browser+" "+BrowserDetect.version)}catch(a){console.error("findBrowserVersion: error=",a)}}var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){(c||!hasProp(a,e))&&(!d||"object"!=typeof b||!b||isArray(b)||isFunction(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),mixin(a[e],b,c,d)))}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;b<a.length;b++)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(0===b||1===b&&".."===a[2]||".."===a[b-1])continue;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=c&&c.split("/"),r=x.map,s=r&&r["*"];if(a&&(a=a.split("/"),k=a.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(a[k])&&(a[k]=a[k].replace(jsSuffixRegExp,"")),"."===a[0].charAt(0)&&q&&(p=q.slice(0,q.length-1),a=p.concat(a)),b(a),a=a.join("/")),d&&r&&(q||s)){g=a.split("/");a:for(h=g.length;h>0;h-=1){if(j=g.slice(0,h).join("/"),q)for(i=q.length;i>0;i-=1)if(f=getOwn(r,q.slice(0,i).join("/")),f&&(f=getOwn(f,j))){l=f,m=h;break a}!n&&s&&getOwn(s,j)&&(n=getOwn(s,j),o=h)}!l&&n&&(l=n,m=o),l&&(g.splice(0,m,l),a=g.join("/"))}return e=getOwn(x.pkgs,a),e?e:a}function d(a){isBrowser&&each(scripts(),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName?(b.parentNode.removeChild(b),!0):void 0})}function e(a){var b=getOwn(x.paths,a);return b&&isArray(b)&&b.length>1?(b.shift(),u.require.undef(a),u.makeRequire(null,{skipMap:!0})([a]),!0):void 0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(F+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):-1===a.indexOf("!")?c(a,l,e):a:(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(G+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(each(globalDefQueue,function(a){var b=a[0];"string"==typeof b&&(u.defQueueMap[b]=!0),B.push(a)}),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c=1e3*x.waitSeconds,f=c&&u.startTime+c<(new Date).getTime(),g=[],h=[],i=!1,k=!0;if(!s){if(s=!0,eachProp(z,function(a){var c=a.map,j=c.id;if(a.enabled&&(c.isDefine||h.push(a),!a.error))if(!a.inited&&f)e(j)?(b=!0,i=!0):(g.push(j),d(j));else if(!a.inited&&a.fetched&&c.isDefine&&(i=!0,!c.prefix))return k=!1}),f&&g.length)return a=makeError("timeout","Load timeout for modules: "+g,null,g),a.contextName=u.contextName,j(a);k&&each(h,function(a){m(a,{},{})}),f&&!b||!i||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}u.defQueueMap={}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E={},F=1,G=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?C[a.map.id]=a.exports:a.exports=C[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return getOwn(x.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){try{e=u.execCb(c,f,d,e)}catch(g){a=g}if(this.map.isDefine&&void 0===e&&(b=this.module,b?e=b.exports:this.usingExports&&(e=this.exports)),a){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a);"undefined"!=typeof console&&console.error?console.error(a):req.onError(a)}}else e=f;if(this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad)){var h=[];each(this.depMaps,function(a){h.push(a.normalizedMap||a)}),req.onResourceLoad(u,this.map,h)}l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(u.defQueueMap,c)||this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=getOwn(E,this.map.id),n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(n=d.normalize(n,function(a){return c(a,o,!0)})||""),f=g(a.prefix+"!"+n,this.map.parentMap),i(f,"defined",bind(this,function(a){this.map.normalizedMap=f,this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):m?(this.map.url=u.nameToUrl(m),void this.load()):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(l){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+l,l,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),p([f],e)}),void d.load(a.name,p,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.undefed||(this.defineDep(b,a),this.check())})),this.errback?i(a,"error",bind(this,this.errback)):this.events.error&&i(a,"error",bind(this,function(a){this.emit("error",a)}))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,defQueueMap:{},Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.shim,c={paths:!0,bundles:!0,config:!0,map:!0};eachProp(a,function(a,b){c[b]?(x[b]||(x[b]={}),mixin(x[b],a,!0,!0)):x[b]=a}),a.bundles&&eachProp(a.bundles,function(a,b){each(a,function(a){a!==b&&(E[a]=b)})}),a.shim&&(eachProp(a.shim,function(a,c){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),b[c]=a}),x.shim=b),a.packages&&each(a.packages,function(a){var b,c;a="string"==typeof a?{name:a}:a,c=a.name,b=a.location,b&&(x.paths[c]=a.location),x.pkgs[c]=a.name+"/"+(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b,null,!0))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,e){function f(c,d,i){var k,l,m;return e.enableBuildCallback&&d&&isFunction(d)&&(d.__requireJsBuild=!0),"string"==typeof c?isFunction(d)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,f):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=e.skipMap,m.init(c,d,i,{enabled:!0}),n()}),f)}return e=e||{},mixin(f,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return-1!==e&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(f.undef=function(a){k();var c=g(a,b,!0),e=getOwn(y,a);e.undefed=!0,d(a),delete C[a],delete D[c.url],delete A[a],eachReverse(B,function(b,c){b[0]===a&&B.splice(c,1)}),delete u.defQueueMap[a],e&&(e.events.defined&&(A[a]=e.events),l(a))}),f},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(u.defQueueMap={},d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k=getOwn(x.pkgs,a);if(k&&(a=k),j=getOwn(E,a))return u.nameToUrl(j,b,c);if(req.jsExtRegExp.test(a))h=a+(b||"");else{for(d=x.paths,e=a.split("/"),f=e.length;f>0;f-=1)if(g=e.slice(0,f).join("/"),i=getOwn(d,g)){isArray(i)&&(i=i[0]),e.splice(0,f,i);break}h=e.join("/"),h+=b||(/^data\:|\?/.test(h)||c?"":".js"),h=("/"===h.charAt(0)||h.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+h}return x.urlArgs?h+((-1===h.indexOf("?")?"?":"&")+x.urlArgs):h},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);if(!e(b.id)){var c=[];return eachProp(y,function(a,d){0!==d.indexOf("_@r")&&each(a.depMaps,function(a){return a.id===b.id&&c.push(d),!0})}),j(makeError("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){return"interactive"===a.readyState?interactiveScript=a:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.22",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a,b,c){var d=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return d.type=a.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),e.onNodeCreated&&e.onNodeCreated(d,e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(a){return head||(head=a.parentNode),dataMain=a.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),e?(e.defQueue.push([a,b,c]),e.defQueueMap[a]=!0):globalDefQueue.push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),function(a){"function"==typeof define?define("es5-sham",a):"function"==typeof YUI?YUI.add("es5-sham",a):a()}(function(){function a(a){try{return a.sentinel=0,0===Object.getOwnPropertyDescriptor(a,"sentinel").value}catch(b){}}function b(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(b){}}var c,d,e,f,g,h=Function.prototype.call,i=Object.prototype,j=h.bind(i.hasOwnProperty);if((g=j(i,"__defineGetter__"))&&(c=h.bind(i.__defineGetter__),d=h.bind(i.__defineSetter__),e=h.bind(i.__lookupGetter__),f=h.bind(i.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||(a.constructor?a.constructor.prototype:i)}),Object.defineProperty){var k=a({}),l="undefined"==typeof document||a(document.createElement("div"));if(!l||!k)var m=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||m){var n="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(a,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(n+a);if(m)try{return m.call(Object,a,b)}catch(c){}if(j(a,b)){var d={enumerable:!0,configurable:!0};if(g){var h=a.__proto__;a.__proto__=i;var k=e(a,b),l=f(a,b);if(a.__proto__=h,k||l)return k&&(d.get=k),l&&(d.set=l),d}return d.value=a[b],d.writable=!0,d}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),!Object.create){var o,p=null===Object.prototype.__proto__;o=p||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function a(){}var b=document.createElement("iframe"),c=document.body||document.documentElement;b.style.display="none",c.appendChild(b),b.src="javascript:";var d=b.contentWindow.Object.prototype;return c.removeChild(b),b=null,delete d.constructor,delete d.hasOwnProperty,delete d.propertyIsEnumerable,delete d.isPrototypeOf,delete d.toLocaleString,delete d.toString,delete d.valueOf,d.__proto__=null,a.prototype=d,o=function(){return new a},new a},Object.create=function(a,b){function c(){}var d;if(null===a)d=o();else{if("object"!=typeof a&&"function"!=typeof a)throw new TypeError("Object prototype may only be an Object or null");c.prototype=a,d=new c,d.__proto__=a}return void 0!==b&&Object.defineProperties(d,b),d}}if(Object.defineProperty){var q=b({}),r="undefined"==typeof document||b(document.createElement("div"));if(!q||!r)var s=Object.defineProperty,t=Object.defineProperties}if(!Object.defineProperty||s){var u="Property description must be an object: ",v="Object.defineProperty called on non-object: ",w="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(a,b,h){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(v+a);if("object"!=typeof h&&"function"!=typeof h||null===h)throw new TypeError(u+h);if(s)try{return s.call(Object,a,b,h)}catch(k){}if(j(h,"value"))if(g&&(e(a,b)||f(a,b))){var l=a.__proto__;a.__proto__=i,delete a[b],a[b]=h.value,a.__proto__=l}else a[b]=h.value;else{if(!g)throw new TypeError(w);j(h,"get")&&c(a,b,h.get),j(h,"set")&&d(a,b,h.set)}return a}}(!Object.defineProperties||t)&&(Object.defineProperties=function(a,b){if(t)try{return t.call(Object,a,b)}catch(c){}for(var d in b)j(b,d)&&"__proto__"!=d&&Object.defineProperty(a,d,b[d]);return a}),Object.seal||(Object.seal=function(a){return a}),Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(x){Object.freeze=function(a){return function(b){return"function"==typeof b?b:a(b)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(a){return a}),Object.isSealed||(Object.isSealed=function(a){return!1}),Object.isFrozen||(Object.isFrozen=function(a){return!1}),Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)!==a)throw new TypeError;for(var b="";j(a,b);)b+="?";a[b]=!0;var c=j(a,b);return delete a[b],c})}),define("bindable/jquery.bindable",["require","exports","module","jquery"],function(a,b,c){var d,e=d=a("jquery"),f=/\s+/;return d.unwhite=function(a){return a=a&&d.trim(a),a.length?a.split(f):[]},d.eventProxy=function(a,b){var c=d.proxy.apply(null,arguments);return function(){return c.apply(null,Array.prototype.slice.call(arguments,1))}},d.bindable=function(a,b){return a instanceof Object||(b=a,a={}),a=d.isFunction(a)?a.prototype:a,d.each(["bind","one","unbind","on","off"],function(b,c){a[c]=function(a,b,e){return d(this)[c](a,b,e),this}}),a.trigger=function(a,b){var c=new d.Event(a),e=new d.Event(c);return c.preventDefault(),e.type="*",c.type!==e.type&&d.event.trigger(c,b,this),d.event.trigger(e,b,this),this},"string"==typeof b&&d.each(d.unwhite(b),function(b,c){a[c]=function(a,b){return arguments.length?this.bind(c,a,b):this.trigger(c)}}),a},e.bindable.bind(e)}),define("core/VideoCore",["bindable/jquery.bindable"],function(){var a,b=require("bindable/jquery.bindable");return a={inherit:function(a,b,c){function d(){}if("function"!=typeof b||"function"!=typeof a)throw new Error("inherit failed, please check that all dependencies are included. child = "+a+" parent="+b);var e;if(d.prototype=b.prototype,a.prototype=new d,a.prototype.constructor=a,a.superclass=b.prototype,b.prototype.constructor===Object.prototype.constructor&&(b.prototype.constructor=b),c)for(e in c)c.hasOwnProperty(e)&&(a.prototype[e]=c[e])},moduleCache:{},instances:{},"abstract":{},advertising:{},plugins:{},tracking:{},listeners:{},factory:function(b,c){var d,e=b;if("function"!=typeof a.moduleCache[e])throw{name:"Error",message:e+" doesnt exist in VideoCore"};return d=new a.moduleCache[e](c)}},window.VideoCore=window.VideoCore||a,b(a),a}),define("bam.cookies/cookies",[],function(){var a=new RegExp("[A-Za-z0-9_-]+"),b=";",c="string",d="date",e="boolean",f="object",g="value",h=["name","expires","path","domain","secure"],i=new RegExp("number|string|boolean"),j=new RegExp("([A-Za-z0-9_-|@\\.]+)=([^;]*)","ig"),k=encodeURIComponent,l=decodeURIComponent,m={};return m.set=function(){var j,l=[],m=$.makeArray(arguments),n=2===m.length&&$.type(m[0])===c?{name:m[0],value:m[1]}:m[0];$.type(n)===f&&$.each(h,function(b,f){if(j=f in n?n[f]:null,f!==h[2]||j||(j="/"),null!==j)switch(f){case h[0]:if($.type(j)!==c||!a.test(j)||!i.test($.type(n[g]||null)))return!1;l.push(j+"="+k(n[g]));break;case h[1]:$.type(j)===d&&l.push(f+"="+j.toGMTString());break;case h[2]:$.type(j)===c&&l.push(f+"="+(j||"/"));break;case h[4]:$.type(j)===e&&j&&l.push(f);break;default:$.type(j)===c&&j&&l.push(f+"="+j)}}),l.length&&(document.cookie=l.join(b))},m.setBulk=function(){var a=$.makeArray(arguments),b=a.length&&$.isArray(a[0])?a[0]:a,c=b.length;if(c)for(;c--;)this.set(b[c])},m.get=function(a){return this.getAll()[a]||null},m.getAll=function(){var a={};return l(document.cookie).replace(j,function(){a[arguments[1]]=arguments[2]}),a},m.remove=function(){var a=$.makeArray(arguments),b={expires:new Date,value:-1};if(b.expires.setTime(b.expires-1),a.length){switch($.type(a[0])){case c:b.name=a[0];break;case f:b=$.extend(a[0],b);break;default:return!1}this.set(b)}},m.removeBulk=function(){var a=$.makeArray(arguments),b=a.length&&$.isArray(a[0])?a[0]:a,c=b.length;if(c)for(;c--;)this.remove(b[c])},m}),define("omniture",["bam.cookies/cookies"],function(a){function b(){return"phone"===window.DeviceType.device?"Smartphone":x(window.DeviceType.device)}function c(a,b){return a.prototype=Object.create(b&&b.prototype||e.prototype),a}function d(){return h=h||$("<div style='display:hidden' hidden></div>")}function e(a){this.props=a||{}}function f(a){return this instanceof f?(e.call(this,a),void this.assign()):new f(a)}function g(c){var d=v(),f={site_formFactor:b(),site_orientation:d},g={user_ipid:a.get("ipid")};$.extend(c,g,f),e.call(this,c)}var h,i=window.s,j="undefined"==typeof j?{}:j,k="",l=/\s*;\s*/,m=/(?:^|([\W_-]))(\w)/g,n={open:'<img src="',close:'"/>'},o="prop",p="eVar",q=0,r=75,s={dynamicView:"Dynamic Page View"},t={},u={prop1:"site_sectionTitle",prop2:"content_articleId",prop3:"site_playerId",prop4:"user_searchTerms",prop5:"site_formFactor",prop6:"site_orientation",prop10:"content_mediawallCid",prop12:"dynamic_component",prop14:"dynamic_componentAction",prop16:"component",prop17:"component_activity",prop18:"media_mpSponsor",prop20:"media_mpIpid",prop22:"user_ipid",prop25:"media_streamId",prop26:"media_playerType",prop27:"media_playerContext",prop28:"media_playerVersion",prop29:"media_streamType",prop30:"media_streamTitle",prop32:"media_streamVideo",prop40:"gameday_matchup",prop43:"media_streamPlayer",prop47:"media_streamState",prop49:"media_embedHost",prop56:"content_mediaWall3rd",prop58:"media_embedId",prop61:"content_articleHeadline",prop62:"content_articleAuthor",prop63:"content_articleSponsor",prop65:"site_club",prop66:"user_deviceId",prop67:"user_deviceManufacturer",prop68:"user_deviceCarrier",prop69:"user_cookie",prop70:"user_ip",prop71:"gameday_inning",prop72:"user_userAgent",eVar4:"site_affiliateId",eVar5:"action_download",eVar6:"media_mpOffer",eVar7:"media_mpFlow",eVar8:"media_mpSkin",eVar9:"media_mpEntryPoint",eVar10:"action_click",eVar13:"media_videoStart",eVar14:"tcid",eVar17:"gameday_premiumConversion",eVar19:"content_mediawallCid",eVar21:"ticket_decisionLink",eVar22:"ticket_finalLink",eVar23:"action_formId",eVar26:"site_searchPosition",eVar27:"site_searchType",eVar28:"media_streamId",eVar41:"user_searchQuery",eVar49:"media_embedHost",eVar51:"ticket_waitId",eVar52:"ticket_waitHost",eVar59:"content_embedHost"},v=function(){var a=window.innerWidth||document.documentElement.clientWidth,b=window.innerHeight||document.documentElement.clientHeight,c=b>=a?"Portrait":"Landscape";return c},w=function(a,b,c){return(b||"")+c.toUpperCase()},x=function(a){return(a||"").toLowerCase().replace(m,w)},y=function(a){if(!a&&t.ipid)return t;for(var b,c=0,d={},e=document.cookie.split(l),f=e.length;f>c;c++)b=e[c].split("="),d[b[0]]=b[1];return t=d};for(e.prototype={assign:function(a){a=a||i;var b,c,d,e=this.props,f=this.propertyMap,g=this.generators;for(b in e)a.hasOwnProperty(b)&&(this[b]=e[b]);for(b in this)c=f[b],d=e[c],d&&(this[b]=d),(this.hasOwnProperty(b)||a.hasOwnProperty(b))&&(a[b]=this[b]);for(b in g)d=g[b](this,e),(d||a[b])&&(a[b]=d||k);return a},drawPixel:function(a){return a?$("<"===a.toString().charAt(0)?a:n.open+a+n.close).appendTo(d()):!1},fire:function(){var a=i.t();return this.s_code=a,a?this.drawPixel(a):!1},generators:{prop5:function(a,b){return x(a.prop5)},prop6:function(a,b){return x(a.prop6)},prop7:function(a,b){return a.prop7||a.prop5&&this.prop5(a,b)+": "+this.prop6(a,b)},prop11:function(a,b){return(a.prop11||b.isDynamic)&&s.dynamicView},prop13:function(a,b){return a.pageName||i.pageName},prop15:function(a,b){return a.prop7||a.prop5&&this.prop5(a,b)+": "+this.prop6(a,b)},prop20:function(a,b){return a.prop20||a.prop22||y().ipid},prop22:function(a,b){return a.prop22||y().ipid},prop31:function(a,b){return a.prop25&&this.prop22(a,b)},evar11:function(a,b){return b.isDynamic&&this.prop22(a,b)},evar18:function(a,b){return a.prop25&&this.prop22(a,b)},eVar34:function(a,b){return this.prop5(a,b)},eVar35:function(a,b){return this.prop6(a,b)},eVar36:function(a,b){return this.prop7(a,b)},evar40:function(a){return a.prop40}},addEvents:function(a){var b=this.events?this.events.split(","):[];return this.events=b.concat(a||"".split(",")).join(",")},props:{},propertyMap:u};r>q;q++)e.prototype[o+q]=e.prototype[p+q]=k;return e.prototype.events=k,f.prototype=e.prototype,c(g).prototype.fire=function(a){a=a||{href:"http://myGenericURL"},i.tl(a,"o",this.prop14||this.prop1||this.prop38||this.prop44||this.prop45||this.prop16||this.prop17||this.prop27||this.prop23||this.prop28||this.events)},j.Tracking={OmnitureAsync:g,OmnitureMobile:f,Omniture:e,capitalize:x,create:c,getUserData:y}}),define("tracking/ComscorePlugin",["jquery","core/VideoCore"],function(a,b){function c(b){var c=!1,d=b.comscoreID?b.comscoreID:"3005352";this.track=function(){c?COMSCORE.beacon({c1:1,c2:d,c3:"",c5:"03",c6:"",c10:""}):setTimeout(this.track,500)},this.handlePluginLoadComplete=function(){c=!0};var e="https:"==document.location.protocol?"https://sb":"http://b";e+=".scorecardresearch.com/beacon.js",a.getScript(e).done(this.handlePluginLoadComplete)}return b.plugins.ComscorePlugin=c,c}),define("tracking/Tracking",["jquery","core/VideoCore","omniture","tracking/ComscorePlugin"],function(a,b,c,d){function e(){i=g.trackingEventsMap,i&&(j=i.omniture,k=i.comscore)}function f(f){g=f,h=new d(f),this.track=function(a){this.trackOmniture(a),this.trackComscore()},this.trackComscore=function(){this.usesTrackingSuite("comscore")&&h.track()},this.trackOmniture=function(a){var b=new c.OmnitureAsync(a);b.assign(),b.fire()},this.usesTrackingSuite=function(b){return a.inArray(b,g.trackingScenarios)>=0},this.trackByImpressionKey=function(a){if(a){var c=getImpressionData(a);c&&(c.media_mpSponsor="MLB",c.isDynamic=!0,b.tracking.trackOmniture(c))}},getImpressionData=function(a){if(a&&j){var b=j[a];if("undefined"!=typeof b)return b}return null},e()}var g,h,i,j,k;return b.Tracking=f,b.Tracking}),define("utils/DeviceDetection",["core/VideoCore"],function(a){function b(){c(),e(q),f(q),g(q,p)}function c(){var a=/(Android|iPhone|iPad|iPod|BlackBerry|BB10| RIM |Windows Phone|Windows NT|Macintosh)/i.exec(navigator.userAgent);if(!a||a.length<2)return void(q=n.OTHER);var b=a[1].toLowerCase();return"iphone"==b||"ipad"==b||"ipod"==b?void(q=n.IOS):"blackberry"==b||" rim "==b?void(q=n.BLACKBERRY):"bb10"==b?void(q=n.BLACKBERRY):"windows phone"==b?void(q=n.WINMOBILE):void("android"==b?q=n.ANDROID:"macintosh"==b?q=n.MAC:"windows nt"==b&&(q=n.WINDOWS))}function d(a){for(var b="",c=0;c<a.length&&"."!==a[c];c++)b+=a[c];return b}function e(a){var b,c=a,e=navigator.userAgent,f=e.match(/chrome/i),g=e.match(/crios/i),h=e.match(/firefox/i),i=e.match(/opera mobi/i),j=e.match(/opera mini/i),k=e.match(/msie/i),l=(e.match(/iemobile/i),e.match(/safari/i)),m=e.match(/AppleWebKit/i);(0!==c||5!==c||6!==c)&&(t=""),c==n.ANDROID?r=f?o.CHROME:h?o.FIREFOX:i?o.OPERA:j?o.OPERAMINI:o.WEBKIT:c==n.IOS?r=g?o.CHROME:j?o.OPERAMINI:o.SAFARI:c==n.WINMOBILE?k?(r=o.IE,e.indexOf("IEMobile")&&(b=e.split("MSIE ")[1])):r=o.OTHER:c==n.MAC||c==n.WINDOWS?f?(r=o.CHROME,b=e.split("Chrome/")[1]):h?(r=o.FIREFOX,b=e.split("Firefox/")[1]):l?(r=o.SAFARI,b=e.split("Version/")[1]):k&&(r=o.IE,b=e.split("MSIE ")[1]):c==n.BLACKBERRY?m&&(r=o.WEBKIT,b=e.split("Mobile Safari/")[1]):r=o.OTHER,b&&(t=d(b));
}function f(a){var b=a;p=b==n.ANDROID?navigator.userAgent.match(/mobile/i)?m.PHONE:m.TABLET:b==n.IOS?navigator.userAgent.match(/iPad/i)?m.TABLET:m.PHONE:b==n.BLACKBERRY?navigator.userAgent.match(/Tablet/i)?m.TABLET:m.PHONE:b==n.WINMOBILE?m.PHONE:m.OTHER}function g(a,b){if(a==n.ANDROID){var c=/Android\s+([\d\.]+)/i.exec(navigator.userAgent);c&&(s=c[1])}else if(a==n.IOS){var c=/OS\s+([\d\_]+)/i.exec(navigator.userAgent);c&&(s=c[1].replace(/_/g,"."))}else if(a==n.BLACKBERRY){if(b==m.PHONE){var c=/BlackBerry\w+\/([\d\.]+)/i.exec(navigator.userAgent);s=c?c[1]:navigator.userAgent.match(/Version\/(\S{0,4}).*?Safari\//)[1]}else if(b==m.TABLET){var c=/OS\s+([\d\.]+)/i.exec(navigator.userAgent);c&&(s=c[1])}}else if(a==n.WINMOBILE){var c=/OS\s+([\d\.]+)/i.exec(navigator.userAgent)||/Windows Phone\s+([\d\.]+)/i.exec(navigator.userAgent);c&&(s=c[1])}else s=""}function h(a){var b=a.toString();for(osSplit=s.toString().split("."),versionSplit=b.split("."),osLen=osSplit.length,versionLen=versionSplit.length,len=Math.max(osLen,versionLen),i=0;i<len;i++){var c=osSplit[i],d=versionSplit[i];if(c>d)return!0;if(d>c)return!1}return versionLen>osLen?!1:void 0}function j(){b();for(var a in n)q===n[a]&&(l=a);for(var a in o)r===o[a]&&(k=a);for(var a in m)p===m[a]&&(formFactorName=a);return window.DeviceType=window.DeviceType||{},window.DeviceType.device=window.DeviceType.device||formFactorName.toLowerCase(),{userAgent:navigator.userAgent,platform:q,platformName:l,browserName:k,browserVersion:t,formFactorName:formFactorName,osVersion:s,isCurrentOsNewerThan:h}}var k,l,m={OTHER:0,PHONE:1,TABLET:2},n={OTHER:0,IOS:1,ANDROID:2,BLACKBERRY:3,WINMOBILE:4,WINDOWS:5,MAC:6},o={OTHER:0,WEBKIT:1,CHROME:2,SAFARI:3,IE:4,OPERA:5,OPERAMINI:6,FIREFOX:7},p=0,q=0,r=0,s=0,t=0;return a.DeviceDetection=j,a.DeviceDetection}),define("swfobject",["jquery"],function(a){function b(){__flash_savedUnloadHandler=null}if("undefined"==typeof c)var c=new Object;"undefined"==typeof c.util&&(c.util=new Object),"undefined"==typeof c.SWFObjectUtil&&(c.SWFObjectUtil=new Object),c.SWFObject=function(a,b,d,e,f,g,h,i,j,k){if(document.getElementById){this.DETECT_KEY=k?k:"detectflash",this.skipDetect=c.util.getRequestParameter(this.DETECT_KEY),this.params=new Object,this.variables=new Object,this.attributes=new Array,a&&this.setAttribute("swf",a),b&&this.setAttribute("id",b),d&&this.setAttribute("width",d),e&&this.setAttribute("height",e),f&&this.setAttribute("version",new c.PlayerVersion(f.toString().split("."))),this.installedVer=c.SWFObjectUtil.getPlayerVersion(),!window.opera&&document.all&&this.installedVer.major>7&&(c.SWFObject.doPrepUnload=!0),g&&this.addParam("bgcolor",g);var l=h?h:"high";this.addParam("quality",l),this.setAttribute("useExpressInstall",!1),this.setAttribute("doExpressInstall",!1);var m=i?i:window.location;this.setAttribute("xiRedirectUrl",m),this.setAttribute("redirectUrl",""),j&&this.setAttribute("redirectUrl",j)}},c.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=a?a:"expressinstall.swf",this.setAttribute("useExpressInstall",!0)},setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(a,b){this.params[a]=b},getParams:function(){return this.params},addVariable:function(a,b){this.variables[a]=b},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var a,b=new Array,c=this.getVariables();for(a in c)b[b.length]=a+"="+c[a];return b},getSWFHTML:function(){var a="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){this.getAttribute("doExpressInstall")&&(this.addVariable("MMplayerType","PlugIn"),this.setAttribute("swf",this.xiSWFPath)),a='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"',a+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var b=this.getParams();for(var c in b)a+=[c]+'="'+b[c]+'" ';var d=this.getVariablePairs().join("&");d.length>0&&(a+='flashvars="'+d+'"'),a+="/>"}else{this.getAttribute("doExpressInstall")&&(this.addVariable("MMplayerType","ActiveX"),this.setAttribute("swf",this.xiSWFPath)),a='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">',a+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var e=this.getParams();for(var c in e)a+='<param name="'+c+'" value="'+e[c]+'" />';var f=this.getVariablePairs().join("&");f.length>0&&(a+='<param name="flashvars" value="'+f+'" />'),a+="</object>"}return a},write:function(a){if(this.getAttribute("useExpressInstall")){var b=new c.PlayerVersion([6,0,65]);this.installedVer.versionIsValid(b)&&!this.installedVer.versionIsValid(this.getAttribute("version"))&&(this.setAttribute("doExpressInstall",!0),this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl"))),document.title=document.title.slice(0,47)+" - Flash Player Installation",this.addVariable("MMdoctitle",document.title))}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var d="string"==typeof a?document.getElementById(a):a;return d.innerHTML=this.getSWFHTML(),!0}return""!=this.getAttribute("redirectUrl")&&document.location.replace(this.getAttribute("redirectUrl")),!1}},c.SWFObjectUtil.getPlayerVersion=function(){var a=new c.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins["Shockwave Flash"];b&&b.description&&(a=new c.PlayerVersion(b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0)for(var d=1,e=3;d;)try{e++,d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e),a=new c.PlayerVersion([e,0,0])}catch(f){d=null}else{try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(f){try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a=new c.PlayerVersion([6,0,21]),d.AllowScriptAccess="always"}catch(f){if(6==a.major)return a}try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(f){}}null!=d&&(a=new c.PlayerVersion(d.GetVariable("$version").split(" ")[1].split(",")))}return a},c.PlayerVersion=function(a){this.major=null!=a[0]?parseInt(a[0]):0,this.minor=null!=a[1]?parseInt(a[1]):0,this.rev=null!=a[2]?parseInt(a[2]):0},c.PlayerVersion.prototype.versionIsValid=function(a){return this.major<a.major?!1:this.major>a.major?!0:this.minor<a.minor?!1:this.minor>a.minor?!0:this.rev<a.rev?!1:!0},c.util={getRequestParameter:function(a){var b=document.location.search||document.location.hash;if(null==a)return b;if(b)for(var c=b.substring(1).split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return c[d].substring(c[d].indexOf("=")+1);return""}},c.SWFObjectUtil.cleanupSWFs=function(){for(var a=document.getElementsByTagName("OBJECT"),b=a.length-1;b>=0;b--){a[b].style.display="none";for(var c in a[b])"function"==typeof a[b][c]&&(a[b][c]=function(){})}},c.SWFObject.doPrepUnload&&(c.unloadSet||(c.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){},window.attachEvent("onunload",c.SWFObjectUtil.cleanupSWFs)},window.attachEvent("onbeforeunload",c.SWFObjectUtil.prepUnload),c.unloadSet=!0)),!document.getElementById&&document.all&&(document.getElementById=function(a){return document.all[a]});c.util.getRequestParameter,c.SWFObject,c.SWFObject;window.onbeforeunload=b;var d=function(){function a(){if(!S){try{var a=L.getElementsByTagName("body")[0].appendChild(r("span"));a.parentNode.removeChild(a)}catch(b){return}S=!0;for(var c=O.length,d=0;c>d;d++)O[d]()}}function b(a){S?a():O[O.length]=a}function c(a){if(typeof K.addEventListener!=D)K.addEventListener("load",a,!1);else if(typeof L.addEventListener!=D)L.addEventListener("load",a,!1);else if(typeof K.attachEvent!=D)s(K,"onload",a);else if("function"==typeof K.onload){var b=K.onload;K.onload=function(){b(),a()}}else K.onload=a}function e(){N?f():g()}function f(){var a=L.getElementsByTagName("body")[0],b=r(E);b.setAttribute("type",H);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=D){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),V.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,g()}()}else g()}function g(){var a=P.length;if(a>0)for(var b=0;a>b;b++){var c=P[b].id,d=P[b].callbackFn,e={success:!1,id:c};if(V.pv[0]>0){var f=q(c);if(f)if(!t(P[b].swfVersion)||V.wk&&V.wk<312)if(P[b].expressInstall&&i()){var g={};g.data=P[b].expressInstall,g.width=f.getAttribute("width")||"0",g.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(g.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(g.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));j(g,l,c,d)}else k(f),d&&d(e);else v(c,!0),d&&(e.success=!0,e.ref=h(c),d(e))}else if(v(c,!0),d){var p=h(c);p&&typeof p.SetVariable!=D&&(e.success=!0,e.ref=p),d(e)}}}function h(a){var b=null,c=q(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=D)b=c;else{var d=c.getElementsByTagName(E)[0];d&&(b=d)}return b}function i(){return!T&&t("6.0.65")&&(V.win||V.mac)&&!(V.wk&&V.wk<312)}function j(a,b,c,d){T=!0,z=d||null,A={success:!1,id:c};var e=q(c);if(e){"OBJECT"==e.nodeName?(x=l(e),y=null):(x=e,y=c),a.id=I,(typeof a.width==D||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==D||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),L.title=L.title.slice(0,47)+" - Flash Player Installation";var f=V.ie&&V.win?"ActiveX":"PlugIn",g="MMredirectURL="+K.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+L.title;if(typeof b.flashvars!=D?b.flashvars+="&"+g:b.flashvars=g,V.ie&&V.win&&4!=e.readyState){var h=r("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}m(a,b,c)}}function k(a){if(V.ie&&V.win&&4!=a.readyState){var b=r("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(l(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(l(a),a)}function l(a){var b=r("div");if(V.win&&V.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(E)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function m(a,b,c){var d,e=q(c);if(V.wk&&V.wk<312)return d;if(e)if(typeof a.id==D&&(a.id=c),V.ie&&V.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",Q[Q.length]=a.id,d=q(a.id)}else{var j=r(E);j.setAttribute("type",H);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&n(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function n(a,b,c){var d=r("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function o(a){var b=q(a);b&&"OBJECT"==b.nodeName&&(V.ie&&V.win?(b.style.display="none",function(){4==b.readyState?p(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function p(a){var b=q(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function q(a){var b=null;try{b=L.getElementById(a)}catch(c){}return b}function r(a){return L.createElement(a)}function s(a,b,c){a.attachEvent(b,c),R[R.length]=[a,b,c]}function t(a){var b=V.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function u(a,b,c,d){if(!V.ie||!V.mac){var e=L.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(B=null,C=null),!B||C!=f){var g=r("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),B=e.appendChild(g),V.ie&&V.win&&typeof L.styleSheets!=D&&L.styleSheets.length>0&&(B=L.styleSheets[L.styleSheets.length-1]),C=f}V.ie&&V.win?B&&typeof B.addRule==E&&B.addRule(a,b):B&&typeof L.createTextNode!=D&&B.appendChild(L.createTextNode(a+" {"+b+"}"))}}}function v(a,b){if(U){var c=b?"visible":"hidden";S&&q(a)?q(a).style.visibility=c:u("#"+a,"visibility:"+c)}}function w(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=D?encodeURIComponent(a):a}var x,y,z,A,B,C,D="undefined",E="object",F="Shockwave Flash",G="ShockwaveFlash.ShockwaveFlash",H="application/x-shockwave-flash",I="SWFObjectExprInst",J="onreadystatechange",K=window,L=document,M=navigator,N=!1,O=[e],P=[],Q=[],R=[],S=!1,T=!1,U=!0,V=function(){var a=typeof L.getElementById!=D&&typeof L.getElementsByTagName!=D&&typeof L.createElement!=D,b=M.userAgent.toLowerCase(),c=M.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),e=c?/mac/.test(c):/mac/.test(b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof M.plugins!=D&&typeof M.plugins[F]==E)i=M.plugins[F].description,!i||typeof M.mimeTypes!=D&&M.mimeTypes[H]&&!M.mimeTypes[H].enabledPlugin||(N=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof K.ActiveXObject!=D)try{var j=new ActiveXObject(G);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();(function(){V.w3&&((typeof L.readyState!=D&&"complete"==L.readyState||typeof L.readyState==D&&(L.getElementsByTagName("body")[0]||L.body))&&a(),S||(typeof L.addEventListener!=D&&L.addEventListener("DOMContentLoaded",a,!1),V.ie&&V.win&&(L.attachEvent(J,function(){"complete"==L.readyState&&(L.detachEvent(J,arguments.callee),a())}),K==top&&!function(){if(!S){try{L.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),V.wk&&!function(){return S?void 0:/loaded|complete/.test(L.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))})(),function(){V.ie&&V.win&&window.attachEvent("onunload",function(){for(var a=R.length,b=0;a>b;b++)R[b][0].detachEvent(R[b][1],R[b][2]);for(var c=Q.length,e=0;c>e;e++)o(Q[e]);for(var f in V)V[f]=null;V=null;for(var g in d)d[g]=null;d=null})}();return{registerObject:function(a,b,c,d){if(V.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,P[P.length]=e,v(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return V.w3?h(a):void 0},embedSWF:function(a,c,d,e,f,g,h,k,l,n){var o={success:!1,id:c};V.w3&&!(V.wk&&V.wk<312)&&a&&c&&d&&e&&f?(v(c,!1),b(function(){d+="",e+="";var b={};if(l&&typeof l===E)for(var p in l)b[p]=l[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===E)for(var r in k)q[r]=k[r];if(h&&typeof h===E)for(var s in h)typeof q.flashvars!=D?q.flashvars+="&"+s+"="+h[s]:q.flashvars=s+"="+h[s];if(t(f)){var u=m(b,q,c);b.id==c&&v(c,!0),o.success=!0,o.ref=u}else{if(g&&i())return b.data=g,void j(b,q,c,n);v(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){U=!1},ua:V,getFlashPlayerVersion:function(){return{major:V.pv[0],minor:V.pv[1],release:V.pv[2]}},hasFlashPlayerVersion:t,createSWF:function(a,b,c){return V.w3?m(a,b,c):void 0},showExpressInstall:function(a,b,c,d){V.w3&&i()&&j(a,b,c,d)},removeSWF:function(a){V.w3&&o(a)},createCSS:function(a,b,c,d){V.w3&&u(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=L.location.search||L.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return w(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return w(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(T){var a=q(I);a&&x&&(a.parentNode.replaceChild(x,a),y&&(v(y,!0),V.ie&&V.win&&(x.style.display="block")),z&&z(A)),T=!1}}}}();return d}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.5.2";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=x.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-(1/0);var d={computed:-(1/0),value:-(1/0)};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},x.sample=function(a,b,c){return arguments.length<2||c?a[x.random(a.length-1)]:x.shuffle(a).slice(0,Math.max(0,b))};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(b,c,d){var e={},f=null==c?x.identity:B(c);return y(b,function(c,g){var h=f.call(d,c,g,b);a(e,h,c)}),e}};x.groupBy=C(function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)}),x.indexBy=C(function(a,b,c){a[b]=c}),x.countBy=C(function(a,b){x.has(a,b)?a[b]++:a[b]=1}),x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},x.pairs=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},x.invert=function(a){for(var b={},c=x.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}.call(this),define("underscore-amd",function(){}),define("models/Meta",["core/VideoCore","utils/VideoUtils","underscore-amd"],function(a,b,c){function d(a,b){var c=a;this.getKeyWordValue=function(a){var b,c=_.where(this.data().keywords.keyword,{type:a});return c.length>0&&(b=c[0].value),b},this.data=function(){return c.media},this.keywords=this.data().keywords.keyword,this.urls=this.data().url,this.content_id=b,this.authflow_required="true"===this.getKeyWordValue("authflow"),this.twitterInline=this.getKeyWordValue("twitter_inline"),this.shareable=this.getKeyWordValue("shareable"),this.notEmbeddable=this.getKeyWordValue("not_embeddable"),this.notShareable=this.getKeyWordValue("not_shareable"),this.embeddable=this.getKeyWordValue("embeddable"),this.combined_media_state=this.getKeyWordValue("combined_media_state"),this.advisory_rating="undefined"!=typeof this.getKeyWordValue("advisory_rating")?this.getKeyWordValue("advisory_rating"):"",this.tv_rating=this.getKeyWordValue("tv_rating"),
this.closed_captioned="Y"==this.getKeyWordValue("closed_captioned"),this.closed_captions_location_ttml=this.getKeyWordValue("closed_captions_location_ttml"),this.start_time=this.getKeyWordValue("start_time"),this.calendar_event_id=this.getKeyWordValue("calendar_event_id"),this.coverage_association=this.getKeyWordValue("coverage_association"),this.coverage_type=this.getKeyWordValue("coverage_type"),this.default_dam_view_key=this.getKeyWordValue("default_dam_view_key"),this.event_date=this.getKeyWordValue("event_date"),this.away_team_id=this.getKeyWordValue("away_team_id"),this.home_team_id=this.getKeyWordValue("home_team_id"),this.call_letters=this.getKeyWordValue("call_letters"),this.game_id=this.getKeyWordValue("game_id"),this.game_pk=this.getKeyWordValue("game_pk"),this.inning_index_location_xml=this.getKeyWordValue("inning_index_location_xml"),this.milestones_xml=this.getKeyWordValue("milestones_xml"),this.date=this.data().date,this.duration=this.data().duration,this.headline=this.data().headline,this.kicker=this.data().kicker,this.blurb=this.data().blurb,this.bigBlurb=this.data()["big-blurb"],this.imagesByType=_.object(_.map(this.data().thumbnailScenarios.thumbnailScenario,function(a){return[a.type,a.value]})),this.thumb=this.imagesByType[7]||""}return d}),define("models/XMLMeta",["core/VideoCore","utils/VideoUtils","underscore-amd"],function(a,b,c){function d(a,b){var c=a,d=this,e=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},f=function(a){return _.map(a,function(a,b){return{type:a.getAttribute("type"),value:a.getAttribute("value"),displayName:a.getAttribute("displayName"),getAttribute:function(a){return this[a]}}})};this.getKeyWordValue=function(a){var b,c=_.where(this.keywords,{type:a});return c.length>0&&(b=c[0].value),b};var g=function(a){var b=[];return _.each(a,function(a,c){var d={value:a.textContent};_.each(a.attributes,function(a,b){d[a.nodeName]="undefined"!=typeof a.text?a.text:"undefined"!=typeof a.textContent?a.textContent:!1}),b.push(d)}),b},h=function(b){return a.getElementsByTagName(b)[0]};d.data=function(){return c.media},d.keywords=f(e(a.getElementsByTagName("keyword"))),d.urls=g(e(a.getElementsByTagName("url"))),d.content_id=b,this.authflow_required="undefined"!=typeof this.getKeyWordValue("authflow")?"true"===this.getKeyWordValue("authflow")||this.getKeyWordValue("authflow")===!0:!1,this.twitterInline=this.getKeyWordValue("twitter_inline"),this.shareable=this.getKeyWordValue("shareable"),this.notEmbeddable=this.getKeyWordValue("not_embeddable"),this.notShareable=this.getKeyWordValue("not_shareable"),this.embeddable=this.getKeyWordValue("embeddable"),this.combined_media_state=this.getKeyWordValue("combined_media_state"),this.advisory_rating="undefined"!=typeof this.getKeyWordValue("advisory_rating")?this.getKeyWordValue("advisory_rating"):"",this.tv_rating=this.getKeyWordValue("tv_rating"),this.closed_captioned="Y"==this.getKeyWordValue("closed_captioned"),this.closed_captions_location_ttml=this.getKeyWordValue("closed_captions_location_ttml"),this.start_time=this.getKeyWordValue("start_time"),this.calendar_event_id=this.getKeyWordValue("calendar_event_id"),this.coverage_association=this.getKeyWordValue("coverage_association"),this.coverage_type=this.getKeyWordValue("coverage_type"),this.default_dam_view_key=this.getKeyWordValue("default_dam_view_key"),this.event_date=this.getKeyWordValue("event_date"),this.away_team_id=this.getKeyWordValue("away_team_id"),this.home_team_id=this.getKeyWordValue("home_team_id"),this.call_letters=this.getKeyWordValue("call_letters"),this.game_id=this.getKeyWordValue("game_id"),this.game_pk=this.getKeyWordValue("game_pk"),this.inning_index_location_xml=this.getKeyWordValue("inning_index_location_xml"),this.milestones_xml=this.getKeyWordValue("milestones_xml"),d.date=h("media")?a.getElementsByTagName("media")[0].getAttribute("date"):"",d.duration=h("duration")&&h("duration").firstChild?h("duration").firstChild.nodeValue:"",d.headline=h("headline")&&h("headline").firstChild?h("headline").firstChild.nodeValue:"",d.kicker=h("kicker")&&h("kicker").firstChild?h("kicker").firstChild.nodeValue:"",d.blurb=h("blurb")&&h("blurb").firstChild?h("blurb").firstChild.nodeValue:"",d.bigBlurb=h("big-blurb")&&h("big-blurb").firstChild?h("big-blurb").firstChild.nodeValue:"",d.imagesByType=[],$.each(a.getElementsByTagName("thumbnailScenario"),function(a,b){d.imagesByType[b.getAttribute("type")]=b.firstChild&&b.firstChild.nodeValue?b.firstChild.nodeValue:""}),d.thumb=d.imagesByType[7]||""}return d}),define("utils/VideoUtils",["jquery","bindable/jquery.bindable","swfobject","underscore-amd","core/VideoCore","models/Meta","models/XMLMeta"],function(a,b,c,d,e,f,g){function h(a){return m.hasOwnProperty(a)}var i,j=document.location.search,k=~document.location.search.indexOf("preroll=false"),l=null,m={HTML5Player:!0,FlashPlayer:!0,Advertising:!0,AuditudePlugin:!0,Video:!0,"*":!0};i={bamStaticURL:function(){var a=window.location.hostname.indexOf("beta")>=0?"beta.":window.location.hostname.indexOf("qa")>=0||window.location.hostname.indexOf("dev")>=0||window.location.hostname.indexOf("local")>=0?"qa.":"";return"http://ui."+a+"bamstatic.com"},propertyStateXMLURL:function(){var a="undefined"==typeof this.config.propertyStateXML?"http://"+window.location.host+"/sections/tv/flash/xml/property_state.xml":this.config.propertyStateXML;return a},checkRatings:function(a,b){var c,d=b[0],e=d.metaData.advisory_rating,f=d.metaData.tv_rating;return"undefined"!=typeof f&&(c=a.parental_control_bumpers[f][e].high,b.unshift({type:"video-bump",path:c})),b},xmlToString:function(a){var b;return b=window.ActiveXObject?a.xml:(new XMLSerializer).serializeToString(a)},getCurrentMediaMetrics:function(){return e.utils.callActionscript("getCurrentMediaMetrics")},callActionscript:function(a,b){this.log("swfplayer."+a+"() was called.");var c,d=document.getElementById(this.config.elemId);return d&&d[a]?c="undefined"!=typeof b?d[a](b):d[a]():"undefined"==typeof d?setTimeout(function(){c=e.utils.callActionscript(a,b)},500):e.utils.errorLog("VideoUtils.callActionscript: Called with invalid function:"+a+", or this._swfElem wasn't defined"),c},loadDependencies:function(){var b=this;a(b).trigger(e.events.DEPENDENCIES_LOADED)},config:null,currentContentID:"",debugMode:!0,imageMap:{PHONE:{"16:9":40,"4:3":13},TABLET:{"16:9":45,"4:3":13},OTHER:{"16:9":45,"4:3":13}},env:function(){var a={},b=!0,c=!b;a.isDev=a.isQA=a.isBeta=a.isProd=c;var d=window.location.host.split(".").reverse()[2],e=d&&(d.indexOf("dev")>-1&&"Dev"||d.indexOf("qa")>-1&&"QA"||d.indexOf("beta")>-1&&"Beta")||"Prod";a["is"+e]=b;var f=window.navigator.userAgent,g={isIPad:!!f.match(/ipad.+Mac/i),isXoom:!!f.match(/Android 3/i)};return{host:a,client:g}}(),getAspectRatio:function(a,b){function c(a,b){return 0==b?a:c(b,a%b)}var d=c(a,b);return""+a/d+":"+b/d},getImageType:function(){var a=13,b=new e.DeviceDetection,c=this.getAspectRatio(this.config.width,this.config.height);this.imageMap[b.formFactorName];return a="undefined"!=typeof this.imageMap[b.formFactorName][c]?this.imageMap[b.formFactorName][c]:13},hashKeys:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},auditudeZones:{mlb:50389,milb:51232,minorleaguebaseball:51232,venue365:52920,webbyawards:52920,theabl:51231,yesnetwork:51233,sny:51234,tigerwoods:51235,icenetwork:51236,gbtv:104599,worldbaseballclassic:50389,placeholder:null},playerID:"",test:Math.random(),processProperty:function(){var b=a("property[name="+this.config.property+"]",l),c=b.find("playback_scenario"),d=a.makeArray(c.map(function(){return a(this).attr("bitrate")})),f=a.makeArray(b.find("scenario").map(function(){return a(this).attr("type")})),g=b.attr("auditudeSite");"false"===g&&(g=!1);var h=b.find("rootDomain").text(),i=b.find("logo").text(),m=b.find("watermark").text(),n=b.find("clickThru[label="+this.config.clickThruScenario+"]").text(),o={convivaTrackingEnabled:b.attr("convivaEnabled"),convivaCustomerID:b.attr("convivaCustomerID"),convivaTestNetwork:e.utils.env.host.isQA?!0:!1,delayRule:b.attr("delayRule"),isAuditudeSite:k||g,auditudeZoneID:b.attr("auditudeZoneID"),rootDomain:h,trackingScenarios:f,metaUtil:{root:0==b.find("meta").length||"undefined"==typeof b.find("meta").attr("root")?"/gen/multimedia/detail/":b.find("meta").attr("root"),regex:0==b.find("meta").length||"undefined"==typeof b.find("meta").attr("regex")?/^(\d+(\d)(\d)(\d))$/:new RegExp(b.find("meta").attr("regex")),pattern:0==b.find("meta").length||"undefined"==typeof b.find("meta").attr("pattern")?"$2/$3/$4/$1.xml":b.find("meta").attr("pattern"),fileType:0==b.find("meta").length||"undefined"==typeof b.find("meta").attr("pattern")?"xml":b.find("meta").attr("pattern").slice(b.find("meta").attr("pattern").lastIndexOf(".")+1,b.find("meta").attr("pattern").length)},playbackScenarios:d,clickThru:n,logo:i,watermark:h+m,theLink:h+n+(this.config.playlist[0]&&this.config.playlist[0].content_id?this.config.playlist[0].content_id:""),swf:this.bamStaticURL()+"/fedapp/video/flash/V1/R2/ObjectEmbedFrame.swf"+j+"&v=1",installer:h+"/shared/flash/express_install/playerProductInstall.swf"};window.s_rsid=e.utils.env.host.isProd?b.attr("trackingSuite"):"devmlbglobal",a(this).trigger(e.events.PROP_DATA_LOADED,o)},getPlaybackByType:function(b,c){this.log("VideoUtils getPlaybackByType: playbackScenaro to find = "+c);var d,e;return a.each(b.urls,function(a,b){e=b.playback_scenario,e==c&&(d=b.value)}),d},getPlaybackURL:function(a,b){var c=b[0];this.log("VideoUtils getPlaybackURL: playbackScenaro to find = "+c);var d=_.findWhere(a.urls,{playback_scenario:c});return"undefined"==typeof d&&(b.shift(),d=e.utils.getPlaybackURL(a,b)),d.value},getClosestPlaybackBySize:function(b,c,d){this.log("VideoUtils getClosestPlaybackBySize: playbackScenaro pattern to find = "+d);var f,g,h,i,j,k,l,m=1e3,n=this.config.minimumVideoWidth||0,o=null,p=!1,q=!1;if(a.each(c.urls,function(a,c){if(j=c.playback_scenario.split("_"),f=c.playback_scenario.split("_")[0],!(c.playback_scenario.indexOf(d)<0))if(g="SD"==j[j.length-1]||"HD"==j[j.length-1]?j[j.length-2].split("X"):j[j.length-1].split("X"),h=parseInt(g[0]),i=parseInt(g[1]),isNaN(h)&&isNaN(i))k=c.value,o=c.playback_scenario,l="640X360";else{var e=Math.abs(h-b);m>e&&h>=n&&(k=c.value,o=c.playback_scenario,l="SD"==j[j.length-1]||"HD"==j[j.length-1]?j[j.length-2]:j[j.length-1],m=e,p="Y"==c.login,q="Y"==c.authorization)}}),c.login=p,c.authorization=q,c.size=l,!k){var r=new e.DeviceDetection,s="TABLET"===r.formFactorName?"HTTP_CLOUD_TABLET":"FMS_CLOUD";a.each(c.urls,function(a,b){f=b.playback_scenario,f==s&&(k=b.value,o=b.playback_scenario)})}return c.currentPlaybackScenario=o,this.log("VideoUtils getClosestPlaybackBySize: playbackScenarioUsed = "+o+", return path = "+k),k},getPropertyData:function(){var b=this;return l?void this.processProperty():a.ajax({url:this.propertyStateXMLURL(),type:"get",dataType:"xml",timeout:5e3,error:function(c){a(b).trigger(e.events.PROP_DATA_ERROR,{errorType:"Error getting properties XML: "+c.status+" "+c.statusText}),e.utils.log("Error getting properties XML: "+c.status+" "+c.statusText)},success:function(a){l=a,b.processProperty()}})},getDomain:function(){var b=document.location.hostname.toLowerCase().split("."),c=a.inArray("com",b);return c>0&&c!==b.length-1&&b.pop(),b[b.length-2]||"mlb"},getDurationInSeconds:function(a){for(var b=a.split(":").reverse(),c=0,d=0;b[c];)d+=0===c?parseInt(b[c],10):parseInt(b[c],10)*Math.pow(60,c),c++;return d},getMetaFileType:function(){return this.config.metaUtil.fileType},getMetaFilePath:function(a){if("undefined"==typeof a)return!1;var b=this.config.metaUtil.root+a.content_id.replace(this.config.metaUtil.regex,this.config.metaUtil.pattern);return b},filterUrlByDevice:function(a,b){for(var c=[],d=0,e=b.length;e>d;d++)a[b[d]]&&c.push(a[b[d]]);return c},setMetaData:function(a,b,c,d){var e=this,h="xml"==this.getMetaFileType()?new g(a,b):new f(a,b);e.setMetaDataWithMetaData(h,b,c)},setMetaDataWithMetaData:function(b,c,d){var f=this;if(f.getMetaData._cache=f.getMetaData._cache||{},f.getMetaData._cache[c]=b,e.setShareValues(b),!d){var g=jQuery.Event(e.events.META_DATA_LOADED);g.metaData=b,a(f).trigger(e.events.META_DATA_LOADED,b)}},getMetaData:function(b,c){if("undefined"==typeof c)return!1;var d={},f=this;this.getMetaData._cache&&this.getMetaData._cache[c]?(d=this.getMetaData._cache[c],a(this).trigger(e.events.META_DATA_LOADED,d)):a.ajax({type:"GET",cache:!e.utils.env.host.isDev,url:this.getMetaFilePath({content_id:c}),dataType:this.getMetaFileType(),success:function(a){f.setMetaData(a,c)},error:function(){a(f).trigger(e.events.META_DATA_ERROR)}})},getVersionSkin:function(a){var b="/flash/video/y2009/skins/",c={"/flash/video/y2008/skins/ads_countdown_skin.swf":b+"ad_countdown.swf","/flash/video/y2008/skins/mlb_hpSkin.swf":b+"mlb_homepage.swf","/flash/video/y2008/skins/mlb_mediaLandingSkin.swf":b+"mlb_media_landing.swf","/flash/video/y2008/skins/mlb_team_lookin.swf":b+"mlb_live_lookin.swf","/flash/video/y2008/skins/mlb_teamHPmini.swf":b+"mlb_team_homepage.swf","/flash/video/v2/skins/mlb_hpSkin.swf":b+"mlb_homepage.swf","/flash/video/v2/skins/mlb_mediaLandingSkin.swf":b+"mlb_media_landing.swf","/flash/video/v2/skins/mlb_teamHPmini.swf":b+"mlb_team_homepage.swf"},d=c[a]||a;return d},normalizePlaylist:function(b){var c=[],d=this;return a.each(b,function(a,b){var e=d.normalizeMediaItem(b);return c.push(e),!0}),c},normalizeMediaItem:function(a){return"undefined"!=typeof a.stream||"undefined"!=typeof a.content_id?a:("undefined"!=typeof a.prerollPath&&(a.path=a.prerollPath),"undefined"!=typeof a.videoPath&&(a.path=a.videoPath),"undefined"==typeof a.type||"freewheelAd"!==a.type&&"video"!==a.type?{type:a.type,path:a.path}:a)},detectVideoSupport:function(){var a=(new e.DeviceDetection,document.createElement("video")||!1);return this.html5=a&&"undefined"!=typeof a.canPlayType,this.mp4=this.html5&&("maybe"===a.canPlayType("video/mp4")||"probably"===a.canPlayType("video/mp4")),this.ogg=this.html5&&("maybe"===a.canPlayType("video/ogg")||"probably"===a.canPlayType("video/ogg")),this.flash=function(a){return c.hasFlashPlayerVersion(a)},this},isFlashPlaybackSupported:function(){var a="10.2";return c.hasFlashPlayerVersion(a)},doesFlashPlayerVersionSupportHls:function(){var a="12.0.0.69";return c.hasFlashPlayerVersion(a)},doesFlashPlayerVersionSupportHlsAltAudio:function(){var a=this.detectFlashPlayerVersion(),b=[14,0,0,145],c=[a.majorVersion,a.minorVersion,a.buildNumber,a.internalBuildNumber];return this.hasMinimumVersion(c,b)},hasMinimumVersion:function(a,b,c){c||(c=0);var d=a[c],e=b[c];return d>e?!0:d===e?c<a.length-1?this.hasMinimumVersion(a,b,++c):!0:!1},detectFlashPlayerVersion:function(){return e.utils.callActionscript("detectFlashPlayerVersion")},errorLog:function(a,b){if("undefined"==typeof b&&(b="*"),h(b)){e.utils.log(b+" : ERROR"),"undefined"!=typeof console&&console.error(a);try{"undefined"!=typeof flash_debugger&&flash_debugger.log(b+" : "+a)}catch(c){}}},log:function(a,b){this.debugMode&&("undefined"==typeof b&&(b="*"),h(b)&&("undefined"!=typeof console&&console.log(b+" - "+a),"undefined"!=typeof flash_debugger&&flash_debugger.log(b+" : "+a)))}};i.hashKeys(i.auditudeZones);return b(i,"metaDataLoaded metaDataError"),e.utils=i,e.utils}),define("social/ShareStateResolver",["jquery","core/VideoCore","utils/VideoUtils"],function(a,b,c){function d(b){var d;this.loadServerDate=function(){c.log("ShareStateResolver.loadServerDate()"),a.get("/gdcross/components/game/timecode.json",function(a){c.log("date successfully loaded")},"json").success(function(a){d=a}).error(function(){c.log("date failed to load from GDCross...")})},this.verifyShareable=function(a,b){if("undefined"==typeof a&&c.config.playlist[0].content_id)c.log("verifyShareable():no content id passed, getting content id from playlist"),a=c.config.playlist[0].content_id;else if("undefined"==typeof a)return c.log("verifyShareable():no content id to work with"),!1;if(!c.getMetaData._cache)return!1;var d=c.getMetaData._cache[a],e=!0;switch(b){case"facebook":case"social":e=d.shareable&&!d.notShareable;break;case"twitter":e=d.twitterInline;break;case"embed":case"blog":default:e=d.embeddable&&!d.notEmbeddable}return e},this.setShareValues=function(a){c.log("SharabilityDecider.setShareValues( "+a.content_id+" )"),c.log("embeddable / shareable? "+a.embeddable+" / "+a.shareable),c.log("notEmbeddable / notShareable? "+a.notEmbeddable+" / "+a.notShareable),c.log("Twitter Inline Playable? "+a.twitterInline);var b="mlb"===c.config.property,d="undefined"==typeof a.embeddable&&("undefined"==typeof a.notEmbeddable||!a.notEmbeddable),e="undefined"==typeof a.shareable&&("undefined"==typeof a.notShareable||!a.notShareable);b&&(d||e)?(c.log("applying 48-hour rule"),setTimeShare(a),a.notEmbeddable=!1,a.notShareable=!1):(a.embeddable="undefined"==typeof a.embeddable?!0:a.embeddable,a.notEmbeddable="undefined"==typeof a.notEmbeddable?!1:a.notEmbeddable,a.shareable="undefined"==typeof a.shareable?!0:a.shareable,a.notShareable="undefined"==typeof a.notShareable?!1:a.notShareable)},setTimeShare=function(a){if(d){c.log("SharabilityDecider.setTimeShare("+a.content_id+")"),c.log("clip date / server date: "+d.dateStr.substr(0,10)+" / "+a.date.substr(0,10));var b=d.dateStr.substr(0,10).split("-"),e=a.date.substr(0,10).split("-"),f=Date.UTC(b[0],b[1],b[2]),g=Date.UTC(e[0],e[1],e[2]),h=f-g>=1728e5;a.embeddable="undefined"==typeof a.embeddable?h:a.embeddable,a.shareable="undefined"==typeof a.shareable?h:a.shareable}else a.embeddable=!0,a.shareable=!0}}return d}),define("social/SharingManager",["jquery","core/VideoCore","utils/VideoUtils","social/ShareStateResolver","bitly"],function(a,b,c,d,e){function f(a){var b=l(a);m(b,a)}function g(a){var b=(a.sharingURL?a.sharingURL:u)+"?u="+escape(a.dest)+"&t="+a.title;window.open(b,"_blank","width=500,height=400")}function h(a,b){var d=a.cid||c.currentContentID,e=c.getMetaData._cache[d],f=(a.sharingURL?a.sharingURL:v)+b+"&text="+e.blurb;return f+="mlb"===c.config.property?"&via=mlb":""}function i(a){var b=a.dest;if(a.bitlyEnabled){var c=e.url(a.dest,"json");c.bind("urlLoaded",function(c,d){b=d?d:escape(a.dest),window.open(h(a,b),"_blank","width=500,height=500")}).shorten()}else window.open(h(a,b),"_blank","width=500,height=500")}function j(a){var b=(a.sharingURL?a.sharingURL:w)+escape(a.dest);window.open(b,"_blank","width=500,height=500")}function k(a){var b=c.config,d={bitlyEnabled:a.bitlyEnabled?!0:a.bitlyEnabled,title:a.title||(b.siteSection?b.siteSection.substr(b.siteSection.lastIndexOf("/")+1):"unavailable"),sharingURL:a.sharingURL||null,link:a.url||(b.clickThru?b.clickThru:t),root:a.rootURL||(b.rootDomain?b.rootDomain:"http://"+document.location.hostname.toLowerCase()),cid:a.content_id||(c.currentContentID?c.currentContentID:"unavailable"),topicID:a.topic_id||(b.topic_id?b.topic_id:null),clubID:a.club||null,dest:""};return d.dest=d.root+d.link+o(d.link,d.cid)+(d.topicID?"&topic_id="+d.topicID:"")+(d.clubID?"&c_id="+d.clubID:""),d}function l(a){var b="&lt;iframe src='"+a.root+"shared/video/embed/embed.html"+n("content_id",a.cid)+n("topic_id",a.topicID)+"&width=400&height=224&property="+c.config.property+"' width='400' height='224' frameborder='0'&gt;Your browser does not support iframes.&lt;/iframe&gt;";return b}function m(c,d){if(x){b.tracking.trackOmniture({async:{isDynamic:!1,compName:"Video Playback Distribution/Comments",compActivity:"Video Playback Embed Link Click",actionGen:!0,club:d.cid}});var e,f="<div class='embed-container'><p>Copy and paste to embed this video:</p><textarea class='embed-code'>"+c+"</textarea></div>";y.popDialog.show({htmlContent:f,postShow:function(){e=a("#module_content").find("textarea"),e.click(function(){this.focus(),this.select()})}}),y.popDialog.postExit=function(){e&&e.unbind()}}else{var g=-1!=document.location.pathname.indexOf("embed.html")?"/shared/video/embed/popDialog.css":"/shared/scripts/bam/popDialog/1.0/popDialog.css";y.popDialog.init({css:g}),x=!0,setTimeout(function(){m(c,d)},500)}}function n(a,b){var c=b?"?"+a+"="+b:"";return c}function o(a,b){var c=a.indexOf("content_id=")>=0?b:"?content_id="+b;return c}var p="facebook",q="twitter",r="embed",s="gplus",t="video/play.jsp?content_id=",u="http://www.facebook.com/sharer.php",v="http://twitter.com/share?url=",w="https://plus.google.com/share?url=",x=!1,y={},z=new d(b);b.SharingManager={share:function(a,b){var c=k(b?b:{});switch(a){case p:g(c);break;case q:i(c);break;case s:j(c);break;case r:default:f(c)}},verifyShareable:function(a,b){return z.verifyShareable(a,b)},setShareValues:function(a){var b="string"==typeof a?c.getMetaData._cache[a]:a;z.setShareValues(b)},loadServerDate:function(){z.loadServerDate()}},b.share=function(a,c){b.SharingManager.share(a,c)},b.verifyShareable=function(a,c){return b.SharingManager.verifyShareable(a,c)},b.loadServerDate=function(){b.SharingManager.loadServerDate()},b.setShareValues=function(a){b.SharingManager.setShareValues(a)},b.getClickThru=function(a,b){var d=c.config.rootDomain+c.config.clickThru+a;return b&&(d=d.concat("&topic_id="+b)),d}}),define("utils/VideoEvents",["core/VideoCore"],function(a){var b={onPlayerLoaded:"playerLoaded",contentStarted:"contentStart",contentComplete:"contentComplete",onPlaylistBegin:"playlistStart",onPlaylistComplete:"playlistComplete",streamMediaError:"streamMediaError",playlistParseError:"playlistParseError",pauseMedia:"mediaPaused",resumeMedia:"resumeMedia",adPlaybackStart:"advertisingStart",adPlaybackEnd:"adPlaybackComplete",onShareVideoViaFacebook:"shareFacebook",onShareVideoViaTwitter:"shareTwitter",onEmbedVideoCode:"shareEmbed",AUTHFLOW_REQUIRED:"authflowRequired",PLAYER_TYPE:"playbackType",SCREEN_SMALL:"standardView",SCREEN_LARGE:"largeView",SCREEN_FULL:"fullView",CONTENT_COMPLETE:"contentComplete",CONTENT_START:"contentStart",PLAYER_LOADED:"playerLoaded",PLAYLIST_START:"playlistStart",PLAYLIST_LOADED:"playlistLoaded",PLAYLIST_COMPLETE:"playlistComplete",CLIP_START:"clipStart",CLIP_COMPLETE:"clipComplete",ADVERTISING_STOP:"advertisingStop",ADVERTISING_START:"advertisingStart",AD_PLAYBACK_START:"adPlaybackStart",AD_PLAYBACK_COMPLETE:"adPlaybackComplete",MEDIA_PAUSED:"mediaPaused",MEDIA_RESUME:"mediaResume",TIMECODE:"timecode",PLAYBACK_STARTED:"mediaSlotPlaybackStarted",SEEK_COMPLETE:"playerSeekComplete",CLOSE_HIGHLIGHT:"playerCloseHighlight",FULLSCREEN_START:"fullscreenStart",FULLSCREEN_END:"fullscreenEnd",ERROR:"error",MEDIA_ERROR:"mediaError",SHARE_FACEBOOK:"shareFacebook",SHARE_TWITTER:"shareTwitter",SHARE_GOOGLE:"shareGoogle",SHARE_EMBED:"shareEmbed",SHARE_OTHER:"shareOther",COMPANION_BANNER:"companionBanner",RESIZE:"resizeVideo",CLIP_SET:"clipSet",META_DATA_LOADED:"metaDataLoaded",META_DATA_ERROR:"metaDataError",MOBILE_READY:"mobileReady",PROP_DATA_LOADED:"propDataLoaded",PROP_DATA_ERROR:"propDataError",VIDEO_PROGRESS:"videoProgress",DEPENDENCIES_LOADED:"dependenciesLoaded",ENTER_MINI_MODE:"enterMiniMode",EXIT_MINI_MODE:"exitMiniMode",ENABLE_CLOSED_CAPTIONS:"enableClosedCaptionsEvent",DISABLE_CLOSED_CAPTIONS:"disableClosedCaptionsEvent",TRACKING_EVENT:"trackingEvent",FREEWHEEL_AD_STARTED:"freewheelAdStarted",FREEWHEEL_AD_ENDED:"freewheelAdEnded",FLASH_PLAYER_READY:"flashPlayerReady",FLASH_PLAYER_READY_ERROR:"flashPlayerReadyError",SELECTED_MEDIA_SLOT_CHANGED:"selectedMediaSlotChangedEvent",MEDIA_SLOT_STATE_CHANGED:"mediaSlotStateChanged",VIDEO_AREA_LAYOUT_STATE_CHANGED:"videoAreaLayoutStateChanged",MUTE_BUTTON:"muteButton",CHANGE_VOLUME:"changeVolume"};return a.events=b,b}),define("bam.url/url",[],function(){function a(a){for(var b=["constructor","hash","host","hostname","href","origin","pathname","port","protocol","search"],c={},d=0,e=b.length;e>d;d++)c[b[d]]=a?a[b[d]]:window.location[b[d]];return c.toString=function(){return this.href},c}function b(a){var b;return typeof a===e&&(b=isNaN(a)?a in g?g[a]:a:parseFloat(a)),b}var c={},d=new RegExp("([^&\\?]+?)=([^&]*)","ig"),e="string",f=decodeURIComponent,g={"true":!0,"false":!1,"null":null};return c.Location=function(b){b=a(b);var d=b.search||"",e=c.parseQueryParameters(d);return b.getParam=function(a){return a+""in e?e[a]:null},b.getParams=function(a){return c.parseQueryParameters(d,a)},b.isSecure=function(){return/^https/i.test(b.protocol)},b.getDomain=function(){var a=b.hostname.split(".");return a[a.length-2]},b},c.parseQueryParameters=function(a,c){a=a||window.location.search,c=void 0===c?!1:c;var g,h,i={};return typeof a===e&&f(a).replace(d,function(){g=arguments[1],h=c?b(f(arguments[2])):f(arguments[2]),g in i?Array.isArray(i[g])?i[g].push(h):i[g]=[i[g],h]:i[g]=h}),i},c.parseEncodedQueryParameters=function(a,c){a=a||window.location.search,c=void 0===c?!1:c;var g,h,i={};return typeof a===e&&a.replace(d,function(){g=arguments[1],h=c?b(f(arguments[2])):f(arguments[2]),g in i?Array.isArray(i[g])?i[g].push(h):i[g]=[i[g],h]:i[g]=h}),i},c.parseFragmentIdentifiers=function(a,b){a=a||window.location.hash;var d=a.substring(a.indexOf("#")+1);return c.parseQueryParameters(d,b)},c}),define("advertising/Advertising",["jquery","bindable/jquery.bindable","bam.url/url","core/VideoCore","utils/VideoUtils","utils/VideoEvents"],function(a,b,c,d,e,f){function g(a){e.log(a,"Advertising")}function h(a){var c=a;this.getConfig=function(){return c},this.advertisers=[],b(this)}return h.prototype={COMPANION_AD:"companionAd",DEFAULT_COMPANION_AD:"defaultCompanionAd",AUDITUDE:"auditude",active:!1,ready:!0,pending:!1,isActive:function(){return g("advertising active : "+this.active),this.active},isReady:function(){return g("advertising ready: "+this.ready),this.ready},prepare:function(){this.active=!0,0==this.advertisers.length&&(this.ready=!1)},checkActive:function(a){e.log(this.advertisers.length);for(var b=0,c=this.advertisers.length;c>b;b++)if(a==this.advertisers[b].id)return g("ha ha ha"),!0;return!1},addAdvertiser:function(a,b){this.advertisers.push(a),this.active=b},advertiserReady:function(a){this.ready=!0,g("advertiser ready, anything pending? "+this.pending),this.pending&&(g("play yr content!"),this.pending=!1,this.start())},removeAdvertiser:function(a){for(var b=0,c=this.advertisers.length;c>b;b++)a==this.advertiser[b]&&this.advertisers.splice(b,1)},showCompanionAd:function(b){a(this).trigger(this.COMPANION_AD,[b])},showDefaultCompanionAd:function(){var b=this.getConfig().companionSizes,d=c.Location(window.location),e=window.location.protocol,f=this.getConfig().page_id,g=d.getParam("c_id")?d.getParam("c_id"):"mlb",h={mlb:"mlb",ana:"angels",hou:"astros",oak:"athletics",tor:"bluejays",atl:"braves",mil:"brewers",stl:"cardinals",chc:"cubs",ari:"diamondbacks",la:"dodgers",sf:"giants",cle:"indians",sea:"mariners",mia:"marlins",nym:"mets",was:"nationals",bal:"orioles",sd:"padres",phi:"phillies",pit:"pirates",tex:"rangers",tb:"rays",cin:"reds",bos:"redsox",col:"rockies",kc:"royals",det:"tigers",min:"twins",cws:"whitesox",nyy:"yankees"},i=[];a.each(b,function(a,b){var c,d,j,k=e+"//ad.doubleclick.net/adi/"+h[g]+".mlb/multimedia;sz="+b+";pos=1;";k+="undefined"!=typeof f?"pageid="+f+";":"",k+="ord="+1e12*Math.random(),c=b.split("x")[0],d=b.split("x")[1],j='<iframe src="'+k+'" frameborder="0" scrolling="0" style="width:'+c+"px;height:"+d+'px;"></iframe>',i.push({data:j,width:c,height:d})}),a(this).trigger(this.DEFAULT_COMPANION_AD,{ads:i})},stop:function(){g("Advertising.stop()"),this.active=!1,a(this).trigger(f.ADVERTISING_STOP)},start:function(){g("advertising start()"),a(this).trigger(f.ADVERTISING_START)},setPending:function(){this.pending=!0},destroy:function(){g("advertising destroy()");for(var a=0,b=this.advertisers.length;b>a;a++)this.advertisers[a].destroy(),this.advertisers[a]=null;this.advertisers=[]}},d.Advertising=h,h}),define("players/BasePlayer",["bindable/jquery.bindable","core/VideoCore","utils/VideoUtils"],function(a,b,c){function d(b){this.options=b,a(this)}return d.prototype={category:"BasePlayer",init:function(a){},destroy:function(){},type:"base",play:function(){this.log("play()")},pause:function(){this.log("pause()")},stop:function(){this.log("stop()")},resume:function(){this.log("resume()")},mute:function(){this.log("mute()")},unmute:function(){this.log("unmute()")},getVolume:function(){this.log("getVolume()")},setVolume:function(){this.log("setVolume()")},getClip:function(){this.log("getClip()")},setClip:function(){this.log("setClip()")},getPlaylist:function(){this.log("getPlaylist()")},setPlaylist:function(a){this.log("setPlaylist()")},addToPlaylist:function(a){this.log("addToPlaylist()")},addToPlaylistAt:function(a,b){this.log("addToPlaylistAt()")},getVersion:function(){this.log("getVersion()")},getState:function(){this.log("getState()")},setSkin:function(a){this.log("setSkin()")},resize:function(a,b){this.log("resize()")},replay:function(){this.log("replay()")},isFullScreen:function(){this.log("isFullScreen()")},isPaused:function(){this.log("isPaused()")},isPlaying:function(){this.log("isPlaying()")},log:function(a){c.log(a,this.category)}},b.BasePlayer=d,b.BasePlayer}),define("players/ui/BaseVideoControls",["jquery","bindable/jquery.bindable","core/VideoCore","utils/VideoEvents","utils/VideoUtils"],function(a,b,c,d,e){function f(c,f){function g(){h()}function h(){H.prop("readyState")?(j(),k(),l(),i(),A()):setTimeout(h,150)}function i(){E=a("#playBtn",G),e.log("createPlayPause()"),E.bind("click",function(b){e.log("trigger play"),a(I).trigger(I.PLAY)})}function j(b){D=a("#video-seek"),D.mousedown(n),D.mouseup(m)}function k(){B=a("#volume-slider"),C=a(".volume-button"),F=e.config.volume;var b=100-F,c=a("#volume-handle"),d=a("#volume-range");c.css("top",b+"%"),d.css("height",F+"%"),parseInt(c.css("top"))>=parseInt(B.css("height"))-parseInt(c.css("height"))&&c.css("top",100-parseInt(c.css("height"))+"px"),B.mousedown(r),B.click(q),a(".volume-button").bind("click",function(a){e.log("trigger mute"),v()})}function l(){a(".screen-small-format").bind("click",function(b){e.log("trigger small screen"),a(I).trigger(d.SCREEN_SMALL),w(d.SCREEN_SMALL)}),a(".screen-large-format").bind("click",function(b){e.log("trigger large screen"),a(I).trigger(d.SCREEN_LARGE),w(d.SCREEN_LARGE)}),a(".screen-full-format").bind("click",function(a){w(d.SCREEN_FULL)})}function m(b){var c=D.offset(),d=b.pageX-c.left,e=parseInt(a("#seek-handle").width())/2;a("#seek-handle").css("left",d-e+"px"),a("#seek-progress").css("width",d+"px");var f=(d-e)/parseInt(D.css("width"));a(I).trigger(I.SEEK,f)}function n(b){a("body").mouseup(p),a("body").mousemove(o)}function o(b){I.seeksliding=!0;var c=D.offset(),d=b.pageX-c.left;d>e.config.width-16?d=e.config.width-16:0>d&&(d=0),a("#seek-handle").css("left",d-8+"px"),a("#seek-progress").css("width",d+"px");var f=parseInt(a("#seek-progress").css("width"))/parseInt(D.css("width"));a(I).trigger(I.SEEK,f)}function p(){I.seeksliding=!1,a("body").unbind("mouseup"),a("body").unbind("mousemove")}function q(b){var c=B.offset(),d=b.pageY-c.top,e=parseInt(a("#volume-handle").css("height"))/2;a("#volume-handle").css("top",d-e+"px"),a("#volume-range").css("height",100-d+"px"),a(I).trigger(I.CHANGE_VOLUME,(100-d)/100),100>d&&(F=100-d)}function r(){a("body").mouseup(t),a("body").mousemove(s)}function s(b){var c=B.offset(),d=parseInt(B.height()),e=b.pageY-c.top,f=parseInt(a("#volume-handle").height()/2);e>d-f?e=d-f:0>e&&(e=0),a("#volume-handle").css("top",e-f+"px"),a("#volume-range").css("height",100-e+"px"),a(I).trigger(I.CHANGE_VOLUME,(100-e)/100),100>e&&(F=100-e)}function t(){a("body").unbind("mouseup"),a("body").unbind("mousemove")}function u(b){var c=parseInt(a("#volume-handle").height())/2,d=100-c>100-b?100-b:100-c;a("#volume-handle").css("top",d+"px"),a("#volume-range").css("height",b+"px")}function v(){1==H.prop("muted")?(u(F),a(I).trigger(I.UNMUTE)):(u(0),a(I).trigger(I.MUTE))}function w(b){switch(b){case d.SCREEN_SMALL:a(".screen-small-format").addClass("selected"),a(".screen-large-format").removeClass("selected"),a(".screen-full-format").removeClass("selected"),J&&y();break;case d.SCREEN_LARGE:a(".screen-small-format").removeClass("selected"),a(".screen-large-format").addClass("selected"),
a(".screen-full-format").removeClass("selected"),J&&y();break;case d.SCREEN_FULL:a(".screen-small-format").removeClass("selected"),a(".screen-large-format").removeClass("selected"),a(".screen-full-format").addClass("selected");var c=document.getElementById(e.config.container);if(J)y();else{if(c.mozRequestFullScreen)c.mozRequestFullScreen();else if(c.webkitRequestFullScreen)c.webkitRequestFullScreen();else{if(!c.requestFullScreen)return void alert("Your browser does not support fullscreen.");c.requestFullScreen()}a(I).trigger("enterFullScreen"),a(c).css({width:"100%",height:"100%"}),a("#"+e.playerID).css({width:"100%",height:"100%"}),J=!0,a(document).bind("webkitfullscreenchange mozfullscreenchange fullscreenchange",x)}}}function x(){a(document).unbind("webkitfullscreenchange mozfullscreenchange fullscreenchange",x),a(document).bind("webkitfullscreenchange mozfullscreenchange fullscreenchange",z)}function y(){document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.cancelFullScreen?document.cancelFullScreen():document.exitFullScreen()}function z(){a(document).unbind("webkitfullscreenchange mozfullscreenchange fullscreenchange",z);var b=e.config.width,c=e.config.height;a("#"+e.config.container).css({width:b,height:c}),a("#"+e.playerID).css({width:b,height:c}),J=!1}function A(){var b=a(".video-seek"),c={role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":150};b.attr(c),b.focus(function(){a(".video-seek > a").focus()})}var B,C,D,E,F,G=a('<div id="video-controls" class="video-controls"><button class="video-play paused-button" id="playBtn" tabindex="1" title="Play Pause" aria-controls="'+e.playerID+'"></button><div class="video-timer">00:00</div><button class="screen-small-format" title="Switch to small view" tabindex="4" aria-controls="'+e.playerID+'"></button><button class="screen-large-format" title="Switch to large view" tabindex="5" aria-controls="'+e.playerID+'"></button><button class="screen-full-format" title="Switch to full view" tabindex="6" aria-controls="'+e.playerID+'"></button><div class="volume-box"><div id="volume-slider" class="volume-slider" title="" aria-controls="'+e.playerID+'"><div id="volume-range" class="volume-range"></div><div id="volume-handle" class="volume-handle"></div></div><button class="volume-button" tabindex="2" title="Mute Unmute" aria-controls="'+e.playerID+'"></button></div></div><div id="video-seek" class="video-seek" tabindex="3" title="VideoSeek" aria-controls="'+e.playerID+'"><div id="seek-progress" class="seek-progress"></div><div id="seek-handle" class="seek-handle"></div></div>'),H=c,I=this,J=!1;this.playButton=function(){return E},this.muteButton=function(){return C},this.seeksliding=!1,this.source=G,this.reset=function(a){a&&a.duration?a.duration:0},this.formatTime=function(a){var b=Math.floor(a/60)<10?"0"+Math.floor(a/60):Math.floor(a/60),c=Math.floor(a-60*b)<10?"0"+Math.floor(a-60*b):Math.floor(a-60*b);return b+":"+c},g(),b(this)}return f.prototype={PAUSE:"pause",MUTE:"mute",UNMUTE:"unmute",PLAY:"play",CHANGE_VOLUME:"changeVolume",SEEK:"seek",SCREEN_FULL:"fullView",updateScrubber:function(b,c){if(!this.seeksliding){var d=b/c*100+"%";a("#seek-handle").css("left",d),a("#seek-progress").css("width",d),d=parseInt(a("#seek-progress").width())+8,a("#seek-progress").css("width",d+"px"),a(".video-timer",this.source).text(this.formatTime(b)+" | "+this.formatTime(c))}},hide:function(){a(".video-controls").hide(),a(".video-seek").hide()},show:function(){a(".video-controls").show(),a(".video-seek").show()},startPlay:function(){this.playButton()&&(e.log("BaseVideoControls.startPlay()"),this.playButton().addClass("paused-button"))},startPause:function(){this.playButton()&&(e.log("BaseVideoControls.startPause()"),this.playButton().removeClass("paused-button"))},setVolume:function(a){e.log("BaseVideoControls.setVolume()")},setMute:function(a){a?this.muteButton().addClass("volume-mute"):this.muteButton().removeClass("volume-mute")},setSkin:function(b){e.log("BaseVideoControls.setSkin( "+b+" )"),a(".video-player").removeClass(currentTheme),a(".video-player").addClass(b.toString()),currentTheme=b}},c.BaseVideoControls=f,c.BaseVideoControls}),define("advertising/AuditudePlugin",["jquery","core/VideoCore","utils/VideoUtils","utils/DeviceDetection"],function(a,b,c,d){function e(a){c.log(a,"AuditudePlugin")}function f(f){function g(a){var b,c=new d,e=a.siteSection,f=e.substr(0,e.indexOf("/")),g=e.slice(e.lastIndexOf("/")+1,e.length),h=e.slice(e.indexOf("/")+1,e.lastIndexOf("/")),i="OTHER"==c.formFactorName?"desktop":c.formFactorName.toLowerCase(),j="preroll";return b="siteSection="+e,b=b.concat(";site="+f),b=b.concat(";section="+h),b=b.concat(";player="+g),b=b.concat(";devicetype="+i),b=b.concat(";adType="+j),"undefined"!=typeof a.league&&(b=b.concat(";league="+a.league)),b}function h(a){e("writeCompanionAd"),a&&a.length?b.advertising.showCompanionAd(a):b.advertising.showDefaultCompanionAd(),r=!0}function i(){var a={auditudeDomain:s.auditudeDomain,zoneID:c.auditudeZones[c.getDomain()],width:s.width,height:s.height,bgColor:"#000"};return a}function j(){e("auditude loaded, carry on... "),u=!0,b.advertising.advertiserReady()}function k(){e("no auditude due to failure? whatever."),s.isAuditudeSite=!1,b.advertising.removeAdvertiser(this),b.advertising.advertiserReady(),h()}function l(){e("proceed without video ad"),q.logPlaystatus(q.LOG_PLAYBACK_BEGUN),o()}function m(){e("video ad beginning"),b.advertising.start()}function n(){e("AuditudePlugin.handleAdComplete()"),o()}function o(){e("AuditudePlugin.resumePlayAfterAuditudeAd()"),h(),b.advertising.stop()}function p(a,b){h(b)}e("AuditudePlugin constructor()");var q,r,s=f,t=this,u=!1,v=document.getElementById(s.container),w=a(".vPlayer",v)[0];this.active=!1,this.id="auditude",this.stop=function(){e("AuditudePlugin.stop()"),this.active=!1},this.ready=function(){return e("AuditudePlugin.ready()"),u},this.start=function(){e("AuditudePlugin.start( "+c.currentContentID+" )"),this.active=!0;var a=c.currentContentID,b="mlb_vod_"+a,d=!1;d&&(b=a+"pre-roll"),u?(q.requestAd([b,"mlb_vod_default"],g(s),s.external_url),r=!1):setTimeout(t.start,500)},this.destroy=function(){q.dispatcher.unbind(q.PLUGIN_LOADED,j),q.dispatcher.unbind(q.PLUGIN_LOAD_ERROR,k),q.dispatcher.unbind(q.NO_VIDEO_AD,l),q.dispatcher.unbind(q.VIDEO_AD_BEGIN,m),q.dispatcher.unbind(q.VIDEO_AD_COMPLETE,n),q.dispatcher.unbind(q.COMPANION_BANNER,p),q=null},$js.setConfig({ignoreExtension:!1}),q=require("auditude"),q.dispatcher.bind(q.PLUGIN_LOADED,j),q.dispatcher.bind(q.PLUGIN_LOAD_ERROR,k),q.dispatcher.bind(q.NO_VIDEO_AD,l),q.dispatcher.bind(q.VIDEO_AD_BEGIN,m),q.dispatcher.bind(q.VIDEO_AD_COMPLETE,n),q.dispatcher.bind(q.COMPANION_BANNER,p),w=a(".vPlayer",v)[0],q.init(i(),w,a("#"+s.container)[0])}return b.plugins.AuditudePlugin=f,b.plugins.AuditudePlugin}),define("players/HTML5Player",["jquery","core/VideoCore","players/BasePlayer","utils/VideoEvents","utils/VideoUtils","players/ui/BaseVideoControls","advertising/AuditudePlugin"],function(a,b,c,d,e,f,g){function h(c){this.log("constructor()"),h.superclass.constructor.call(this);var f,g,i=this;this.playlist=null,this.clip=null,this.video=null,this.videoPlayer=null,this.container=null,this.destroy=function(){},this.setConfig=function(a){e.log("this is the playlist count? "+a.playlist),g=a},this.getConfig=function(){return g},this.getControls=function(){return f},this.setControls=function(b){f=b,f.bind("play",function(a){i.isPaused?i.resume():i.pause()}),f.bind(d.SCREEN_SMALL,function(b){return a(i).trigger(d.SCREEN_SMALL),!1}),f.bind(d.SCREEN_LARGE,function(b){return a(i).trigger(d.SCREEN_LARGE),!1}),f.bind(f.SEEK,function(b,c){i.log("seek : "+c),dest=parseInt(a(".vPlayer",i.container).prop("duration"))*c,a(".vPlayer",i.container).prop("currentTime",dest)}),f.bind(f.MUTE,function(b){f.setMute(!0),a(".vPlayer",i.container).prop("muted",!0)}),f.bind(f.UNMUTE,function(b){f.setMute(!1),a(".vPlayer",i.container).prop("muted",!1)}),f.bind(f.CHANGE_VOLUME,function(b,c){a(".vPlayer",i.container).prop("volume",c)}),a(".vPlayer",i.container).after(f.source),i.getConfig().autoHideSkin&&a(".video-controls").addClass("autohide")},this.setClip=function(){if(this.log("setClip()"),this.adPlaying){var b=this.clip.path||this.clip.videoPath,c="<source src='"+b+"' type='video/mp4'/>";a(this.videoPlayer,this.container).html(c);var f=this.getConfig().beginPosterPath||this.clip.metaData.imagesByType[e.getImageType()];a(this.videoPlayer,this.container).attr("poster",f),this.videoPlayer.src=b,this.getControls()&&this.getControls().reset(this.clip)}else if(this.playlist.length>0){this.clip=this.playlist.shift();var b=this.clip.path||this.clip.videoPath,c="<source src='"+b+"' type='video/mp4'/>";a(this.videoPlayer,this.container).html(c);var f=this.getConfig().beginPosterPath||"undefined"!=typeof this.clip.metaData?this.clip.metaData.imagesByType[e.getImageType()]:"";a(this.videoPlayer,this.container).attr("poster",f),this.videoPlayer.src=b,this.getControls()&&this.getControls().reset(this.clip),a(this).trigger(d.CLIP_SET,this.clip)}else a(this).trigger(d.PLAYLIST_COMPLETE,this.clip)},this.updateClipSize=function(b,c){var d=a(".vPlayer",this.container).prop("currentTime"),f=e.getClosestPlaybackBySize(b,this.clip.metaData,"FLASH");if(f){this.clip.path=f;var g="<source src='"+f+"' type='video/mp4'/>";a(this.videoPlayer,this.container).html(g),this.videoPlayer.src=f,setTimeout(function(){a(".vPlayer",this.container).prop("currentTime",d)},500)}e.log(f)},this.isReady=function(){return!0},this.device=new b.DeviceDetection,a(b.advertising).bind("advertisingStart",function(b){i.log("advertisingStart"),"OTHER"==i.device.formFactorName&&(i.getControls()&&(i.log("HIDE CONTROLS"),i.getControls().hide()),a(i.videoPlayer,i.container).removeAttr("controls"))}),a(b.advertising).bind("advertisingStop",function(b){i.log("advertisingStop"),i.adPlaying&&(i.getControls()?(i.log("SHOW CONTROLS"),i.getControls().show(),a(i.videoPlayer,i.container).removeAttr("controls")):a(i.videoPlayer,i.container).attr("controls",!0),i.play())})}return b.inherit(h,c,{category:"HTML5Player",type:"html5",auditudePlugin:null,adPlaying:!1,destroy:function(){},init:function(c){var h=this;h.log("init()"),h.setConfig(c),h.log("config.container : "+h.getConfig().container+", playlist: "+c.playlist),h.container=document.getElementById(h.getConfig().container),a("#"+h.getConfig().container).addClass("video-player"),h.playlist=a.extend(!0,[],h.getConfig().playlist),h.log("what's the playlist now? "+h.getConfig().playlist.length),h.clip=h.playlist[0];var i="undefined"!=typeof h.clip?h.clip.path||h.clip.videoPath:"",j="vPlayer_"+(new Date).getTime(),k='<video id="'+j+'"';if(k+=' class="vPlayer"',k+=h.getConfig().autoPlay&&"OTHER"==h.device.formFactorName?'autoplay="'+h.getConfig().autoPlay+'"':"",k+=' width="'+h.getConfig().width+'"',k+=' height="'+h.getConfig().height+'"',k+="PHONE"==h.device.formFactorName||"TABLET"==h.device.formFactorName?" controls":"",k+=' poster="'+(h.getConfig().beginPosterPath||h.clip.metaData.imagesByType[e.getImageType()])+'">',k+='<source src="'+i+'" type="video/mp4"/></video>',containerHeight=h.getConfig().height,"video_corner"===h.getConfig().pageComponent&&(containerHeight=parseInt(h.getConfig().height,10)+25),a(h.container).removeClass("collapsed").css({width:h.getConfig().width+"px",height:containerHeight+"px"}).html(k),h.videoPlayer=a(".vPlayer",h.container)[0],"undefined"!=typeof h.clip&&(h.videoPlayer.volume=h.getConfig().volume/100),e.playerID=j,h.getConfig().skin&&"OTHER"==h.device.formFactorName&&(a(h.container).addClass(h.getConfig().skin),h.setControls(new f(a(".vPlayer",h.container),h.getConfig()))),!h.getConfig().autoPlay){var l=e.getMetaData._cache[h.getConfig().playlist[0].content_id],m=h.getConfig().beginPosterPath||l.imagesByType[e.getImageType()],n=h.getConfig().watermark?h.getConfig().watermark:"";if("undefined"==typeof i)return;"OTHER"==h.device.formFactorName&&(_beginPoster=new BeginPoster(b,m,"/shared/images/overlay_play_button.png",n))}h.videoPlayer.src=i,h.isLoaded=!0,h.getConfig().isAuditudeSite&&(h.videoPlayer.pause(),h.auditudePlugin=new g(h.getConfig())),h.getConfig().autoPlay||(h.isPaused=!0,setTimeout(function(a){h.getControls()&&h.getControls().startPause()},500)),a(h).trigger(d.PLAYER_LOADED)},play:function(b,c){a(".vPlayer",this.container).off(),this.log("HTML5Player.play()");var e=this;"undefined"!=typeof b&&(this.playlist=b,this.log(this.playlist)),this.log("call setClip() on play()"),this.setClip(),a(".vPlayer",e.container).bind("timeupdate",function(b){if(!e.adPlaying){var c=a(".vPlayer",e.container).prop("currentTime"),f=a(".vPlayer",e.container).prop("duration");e.getControls()&&e.getControls().updateScrubber(c,f),_newPercentage=Math.round(c/f*100),_currPercentage!=_newPercentage&&(a(e).trigger(d.VIDEO_PROGRESS,_newPercentage),_currPercentage=_newPercentage)}}),e.getConfig().isAuditudeSite&&!e.adPlaying?(e.auditudePlugin.start(),e.adPlaying=!0):(a(".vPlayer",e.container).off("playing").on("playing",function(a){e.isPaused=!1,e.getControls()&&e.getControls().startPlay()}),a(".vPlayer",e.container).off("pause,paused").on("pause,paused",function(a){e.isPaused=!0,e.getConfig()&&e.getControls().startPause()}),this.videoPlayer.play(),e.adPlaying=!1,a(".vPlayer",this.container).one("play",function(b){_currPercentage=1,a(".vPlayer",e.container).off("ended").on("ended",function(b){a(e).trigger(d.CLIP_COMPLETE,e.clip)}),a(e).trigger(d.CLIP_START,e.clip)})),"undefined"!=typeof _beginPoster&&(_beginPoster.removePoster(),_beginPoster=void 0)},setPlaylist:function(b){this.log("HTML5Player.setPlaylist()"),this.playlist=a.extend(!0,[],b),this.setClip()},isPaused:!1,pause:function(){this.isReady()&&(this.getControls()&&this.getControls().startPause(),this.isPaused=!0,this.videoPlayer.pause(),a(this).trigger(d.MEDIA_PAUSED))},resume:function(){this.videoPlayer.paused&&(this.isPaused=!1,this.videoPlayer.play(),this.getControls()&&this.getControls().startPlay(),a(this).trigger(d.MEDIA_RESUME))},resize:function(b,c){a(this.container).width(b).height(c),a(".vPlayer",this.container).attr("width",b),a(".vPlayer",this.container).attr("height",c),a(".vPlayer",this.container).width(b).height(c),this.updateClipSize(b,c),a(this).trigger(d.RESIZE,{width:b,height:c})},getVolume:function(){return this.log("getVolume"),this.isReady()?this.videoPlayer.prop("volume"):this.getConfig().volume},setVolume:function(a){this.isReady()&&this.videoPlayer.prop("volume"),this.log("setVolume")}}),b.moduleCache.HTML5Player=h,h}),define("utils/StreamMediaErrorEventEnums",["core/VideoCore"],function(a){var b={DEFAULT_STREAMING_MEDIA_ERROR:"DEFAULT_STREAMING_MEDIA_ERROR",PLAYBACK_FAILED:"PLAYBACK_FAILED",NETSTREAM_FAILED_AUTH_PARAMS_REJECTED:"NETSTREAM_FAILED_AUTH_PARAMS_REJECTED",STREAM_NOT_FOUND:"STREAM_NOT_FOUND",FMS_DYNAMIC_STREAMING_SMIL_NOT_FOUND:"FMS_DYNAMIC_STREAMING_SMIL_NOT_FOUND",FMS_DYNAMIC_STREAMING_SMIL_PARSE_ERROR:"FMS_DYNAMIC_STREAMING_SMIL_PARSE_ERROR",HLS_NOT_ENABLED:"HLS_NOT_ENABLED",HLS_NOT_SUPPORTED:"HLS_NOT_SUPPORTED",HLS_PLAYBACK_FAILED:"HLS_PLAYBACK_FAILED"};return a.streamMediaErrorEventEnums=b,b}),define("players/ui/AccessibleVideoControls",["jquery","bindable/jquery.bindable","core/VideoCore","utils/VideoEvents","utils/VideoUtils"],function(a,b,c,d,e){function f(a,b,c){this.initialize(a,b,c)}var g,h;return f.prototype=a.extend(f.prototype,{flashPlayer:void 0,config:void 0,domTarget:void 0,source:void 0,contentItem:void 0,isLive:!1,isAudioOnly:!1,isHLS:!1,isFMS:!1,liveBtn:void 0,playBtn:void 0,quickRewindBtn:void 0,timeLabel:void 0,muteBtn:void 0,closedCaptionBtn:void 0,volumeRange:void 0,increaseVolumeBtn:void 0,decreaseVolumeBtn:void 0,videoVolume:void 0,paused:!1,muted:void 0,ccEnabled:!1,selectedSlotIndex:0,selectedSlot:void 0,labels:{play:"Play",pause:"Pause",mute:"Mute",unMute:"Unmute",volume:"Volume",closedCaptions:"Closed Captions",seek:"Seek",live:"Live"},initialize:function(a,c,d){g=this,b(this),this.flashPlayer=a,this.domTarget=c,this.config=d,this.createDefaultControls(),this.setAPIListeners(),this.createUI()},createDefaultControls:function(){this.source=h=a('<div id="video-controls" class="video-controls screen-reader" style="color:#fff;"><div id="ada"><h1>Media Player Accessibility Information</h1><h2>Are you trying to access the Media Player using a screen reader?</h2><ul><li>The Media Player application found on this page is an accessible Flash application and allows subscribers of Gameday Audio to access game audio broadcasts and subscribers of MLB.TV to access game video and audio broadcasts.</li><li>To access this Media Player, you must be an subscriber. Existing subscribers should <a href="https://secure.mlb.com/enterworkflow.do?flowId=registration.ajax.wizard&c_id=mlb" target="_blank">log in</a>. New users must <a href="http://mlb.mlb.com/mlb/subscriptions/index.jsp?product=mlbtv" target="_blank">subscribe to access this</a> Media Player.</li><li>Additionally, subscribers can use our <a href="http://mlb.mlb.com/media/player/mpa/?c_id=mlb" target="_blank">standalone and accessible version of Gameday Audio</a> that uses less computer resources.</li><li> This media player has been optimized for supports JAWS version 16 and Mac OSX Voice Over</li><li>If you are having trouble accessing this Media Player please visit the <a href="http://mlb.mlb.com/mlb/help/faq_accessibility.jsp#a11" target="_blank">Accessibility FAQs</a> or the <a href="http://mlb.mlb.com/help/supportforum/forum.jsp?plckCategoryId=db3d8d11-6612-46a0-9783-8496e917b6b2" target="_blank">Media Player support forum</a>.  Additionally you can contact our accessibility dedicated Customer Service at access@website.mlb.com or via phone at 866.239.1284 (international customers call 512.434.1542)</li></ul></div><h2>Please use the Player Controls and Volume Controls available here</h2><button id="playBtn" tabindex="2" title="Pause Playback" alt="Pause Playback" aria-label="Pause Playback" aria-controls="accessibilityState">Pause</button><button id="liveBtn" tabindex="1" title="Live" alt="Live" aria-label="Live" aria-controls="accessibilityState">Live</button><button id="quickRewindBtn" tabindex="3" title="Rewind ten seconds" aria-label="Rewind ten seconds" aria-controls="accessibilityState">Rewind ten seconds</button><button id="quickFastForwardBtn" tabindex="4" title="Fast forward ten seconds" aria-label="Fast forward ten seconds" aria-controls="accessibilityState">Fast forward ten seconds</button><div class="volume-box"><button id="decreaseVolumeBtn" tabindex="5" title="Decrease Volume" alt="Decrease Volume" aria-label="Decrease Volume" aria-valuemin="0" aria-valuemax="1" aria-valuenow=".65" aria-controls="accessibilityState">Decrease Volume</button><input id="volumeRange" type="range" tabindex="6" title="Volume Slider" alt="Volume Slider" min="0" max="100" step="10" aria-live="assertive" aria-label="Volume Slider" aria-valuemin="0" aria-valuemax="1" aria-valuenow=".65" aria-controls="accessibilityState"/><button id="increaseVolumeBtn" tabindex="7" title="Increase Volume" alt="Increase Volume" aria-label="Increase Volume" aria-valuemin="0" aria-valuemax="1" aria-valuenow=".65" aria-controls="accessibilityState">Increase Volume</button></div><input id="muteBtn" class="accessible-mute" type="checkbox" tabindex="8" title="Mute" alt="Mute" aria-label="Mute" aria-controls="accessibilityState"/><label class="accessible-mute" for="muteBtn">Mute</label><div id="accessibilityState" aria-live="polite" style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden;"><span id="playState">Media Playing</span><span id="ccState">Closed Captions Disabled</span><span id="volumeState">Current Volume: 0%</span></div></div>')},setAPIListeners:function(){a(this.flashPlayer).on(d.CLIP_SET,this.handleOnClipSet),a(this.flashPlayer).on(d.TIMECODE,this.handleTimecodeUpdate),a(this.flashPlayer).on(d.SELECTED_MEDIA_SLOT_CHANGED,this.handleSelectedMediaSlotChanged),a(this.flashPlayer).on(d.SEEK_COMPLETE,this.handleSeekComplete),a(this.flashPlayer).on(d.MEDIA_PAUSED,this.handleMediaPausedState),a(this.flashPlayer).on(d.MEDIA_RESUME,this.handleMediaPausedState),a(this.flashPlayer).on(d.MUTE_BUTTON,this.handleMuteButtonState),a(this.flashPlayer).on(d.CHANGE_VOLUME,this.handleVolumeState),a(this.flashPlayer).on(d.ENABLE_CLOSED_CAPTIONS,this.handleClosedCaptionsState),a(this.flashPlayer).on(d.DISABLE_CLOSED_CAPTIONS,this.handleClosedCaptionsState)},createUI:function(){h.css({position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}),this.createLive(),this.createPlayPause(),this.createQuickRewind(),this.createQuickFastForward(),this.createClosedCaption(),this.createVolumeControls()},createLive:function(){this.liveBtn=a("#liveBtn",h),e.log("createLive()"),this.liveBtn.on("click",function(a){g.selectedSlot&&g.selectedSlot.uniqueId&&g.flashPlayer.seekToLive(g.selectedSlot.uniqueId)})},createPlayPause:function(){this.playBtn=a("#playBtn",h),e.log("createPlayPause()"),this.playBtn.on("click",function(a){g.selectedSlot&&g.selectedSlot.uniqueId&&(g.paused?(e.log("Accessible: resume"),g.flashPlayer.resume(g.selectedSlot.uniqueId)):(e.log("Accessible: pause"),g.flashPlayer.pause(g.selectedSlot.uniqueId)))})},createQuickRewind:function(){this.quickRewindBtn=a("#quickRewindBtn",h),e.log("createQuickRewind()"),this.quickRewindBtn.on("click",function(a){g.selectedSlot&&g.selectedSlot.uniqueId&&(g.log("quick rewind"),g.flashPlayer.quickRewind(g.selectedSlot.uniqueId))})},createQuickFastForward:function(){this.quickFastForwardBtn=a("#quickFastForwardBtn",h),e.log("createQuickFastForward()"),this.quickFastForwardBtn.on("click",function(a){g.selectedSlot&&g.selectedSlot.uniqueId&&(g.log("quick fast forward"),g.flashPlayer.quickFastForward(g.selectedSlot.uniqueId))})},createClosedCaption:function(){this.closedCaptionBtn=a("#ccBtn",h),e.log("createClosedCaption()"),this.closedCaptionBtn.on("click",function(a){g.log("Enable/disable CC"),g.ccEnabled?g.flashPlayer.updateUserPreference({showClosedCaptions:!1}):g.flashPlayer.updateUserPreference({showClosedCaptions:!0})})},createVolumeControls:function(){this.muteBtn=a("#muteBtn",h),this.log("createMute()"),this.muteBtn.on("change",function(a){g.selectedSlot&&g.selectedSlot.uniqueId&&(g.log("mute button click"),g.muted?g.flashPlayer.unmute():g.flashPlayer.mute())}),this.volumeRange=a("#volumeRange",h),this.increaseVolumeBtn=a("#increaseVolumeBtn",h),this.decreaseVolumeBtn=a("#decreaseVolumeBtn",h),this.videoVolume=e.config.volume;var b=Math.round(100*this.videoVolume),c={value:this.videoVolume,"aria-valuenow":b,"aria-valuetext":"Current Volume: "+b+"%"};this.volumeRange.attr(c),this.increaseVolumeBtn.attr(c),this.decreaseVolumeBtn.attr(c),this.volumeRange.on("change",function(){g.flashPlayer.setVolume(a(this).val()/100)}),this.volumeRange.on("keydown",function(a){switch(console.log("Keypress: ",a.keyCode,a),a.keyCode){case 39:case 38:g.increaseVolume();break;case 37:case 40:g.decreaseVolume()}}),this.increaseVolumeBtn.on("click",function(){g.increaseVolume()}),this.decreaseVolumeBtn.on("click",function(){g.decreaseVolume()})},updateVolumeState:function(){this.muteBtn.attr({checked:this.muted});var b=Math.round(100*this.videoVolume),c=b+"%",d={"aria-valuenow":b,"aria-valuetext":c};this.volumeRange.attr(d),this.volumeRange.val(b),this.increaseVolumeBtn.attr(d),this.decreaseVolumeBtn.attr(d);var e="Current Volume: "+c;this.muted&&(e="Muted"),a("#volumeState",h).text(e)},increaseVolume:function(){1!==this.videoVolume&&(this.videoVolume<=.9?this.flashPlayer.setVolume(this.videoVolume+.1):this.flashPlayer.setVolume(1))},decreaseVolume:function(){0!==this.videoVolume&&(this.videoVolume>=.1?this.flashPlayer.setVolume(this.videoVolume-.1):this.flashPlayer.setVolume(0))},setContentItem:function(a){this.log("setContentItem - ",a),this.contentItem=a,this.isLive=this.contentItem.isLive,this.isAudioOnly=this.contentItem.isAudioOnly;try{this.isFMS=this.contentItem.mfResponse.mediaItem.playback_scenario.indexOf("FMS_")>-1,this.isHLS=this.contentItem.mfResponse.mediaItem.playback_scenario.indexOf("HTTP_CLOUD")>-1}catch(b){}this.updateAvailableControls()},updateAvailableControls:function(){this.liveBtn.attr({disabled:!1});var b=[],c=[];this.isLive&&this.isHLS?b=[this.playBtn,this.quickRewindBtn,this.quickFastForwardBtn,this.liveBtn]:this.isLive&&this.isFMS||this.isLive&&this.isAudioOnly?(this.liveBtn.attr({disabled:!0}),b=[this.liveBtn],c=[this.playBtn,this.quickRewindBtn,this.quickFastForwardBtn]):(b=[this.playBtn,this.quickRewindBtn,this.quickFastForwardBtn],c=[this.liveBtn]),this.isAudioOnly?c.push(a(".accessible-cc")):b.push(a(".accessible-cc")),this.hideControls(c),this.showControls(b)},showControls:function(b){a.each(b,function(a,b){b.show()})},hideControls:function(b){a.each(b,function(a,b){b.hide()})},setTimecode:function(a){},stripTimecode:function(a){return a=a.split(";"),a=a[0].replace(/[^0-9]/g,"")},formatTime:function(a){var b=Math.floor(a/60)<10?"0"+Math.floor(a/60):Math.floor(a/60),c=Math.floor(a-60*b)<10?"0"+Math.floor(a-60*b):Math.floor(a-60*b);return b+":"+c},handleMediaPausedState:function(b){var c;g.paused=b.type===d.MEDIA_PAUSED,c=g.paused?g.labels.play:g.labels.pause,g.playBtn.attr({title:c,alt:c,"aria-label":c}),a("#playState",h).text(g.paused?"Media Paused":"Media Playing")},handleMuteButtonState:function(a,b){g.videoVolume=parseFloat(b.volume),g.muted="true"===b.muted,g.log("handleMuteButtonState - ",b),g.updateVolumeState(this.muted,g.videoVolume)},handleVolumeState:function(a,b){g.videoVolume=parseFloat(b.volume),g.muted="true"===b.muted,g.log("handleVolumeState - ",b),g.updateVolumeState()},handleClosedCaptionsState:function(b){g.ccEnabled=b.type===d.ENABLE_CLOSED_CAPTIONS,a("#ccState",h).text(g.ccEnabled?"Closed Captions Enabled":"Closed Captions Disabled"),g.closedCaptionBtn.prop("checked",g.ccEnabled)},handleSelectedMediaSlotChanged:function(a,b){try{for(var c=b.metrics,d=c.slots,e=d.length,f=0;e>f;f++){var h=d[f];("true"===h.isSelected||h.isSelected===!0)&&(g.selectedSlot=h,g.selectedSlotIndex=h.slotPosition)}}catch(i){console.error("Error processing SELECTED_SLOT_CHANGED_EVENT:",i.message)}},handleOnClipSet:function(a,b){g.log("handleTimecodeUpdate - ",b),g.selectedSlot={uniqueId:b.uniqueId}},handleSeekComplete:function(a,b){g.log("handleSeekComplete - ",b),g.setTimecode(b.timecode)},handleTimecodeUpdate:function(a,b){g.log("handleTimecodeUpdate - ",b);var c=b.timecode;g.setTimecode(c)},log:function(){var a,b=Array.prototype.slice.call(arguments);"string"==typeof b[0]?(a=b.shift(),console.log("AccessibilityVideoControls: ",a,arguments)):console.log("AccessibilityVideoControls: ",arguments)}}),c.AccessibleVideoControls=f,c.AccessibleVideoControls}),define("flashVideoPlayback",["require","exports","module","utils/VideoUtils"],function(a,b,c){VideoUtils=a("utils/VideoUtils");var d="V2",e=VideoUtils.bamStaticURL()+"/fedapp/video/flash/fvp/mlbtv/1.0.5";b.swfPath=function(){var a="undefined"!=typeof VideoUtils.config.flash&&"undefined"!=typeof VideoUtils.config.flash.name?VideoUtils.config.flash.name:"fvp",b="undefined"!=typeof VideoUtils.config.flash&&"undefined"!=typeof VideoUtils.config.flash.property?VideoUtils.config.flash.property:"mlbtv",c="undefined"!=typeof VideoUtils.config.flash&&"undefined"!=typeof VideoUtils.config.flash.release?VideoUtils.config.flash.release:"1.0.5",d=a,e=VideoUtils.bamStaticURL();return e+="/fedapp/video/flash/"+a+"/",e+=b+"/"+c,e+="/"+d+".swf"},b.version=d,b.release="1.0.5",b.sharingSwfPath=e+"/ObjectEmbedFrame.swf",b.skinConfigURL=function(){var a="undefined"!=typeof VideoUtils.config.flash&&"undefined"!=typeof VideoUtils.config.flash.name?VideoUtils.config.flash.name:"fvp",b="undefined"!=typeof VideoUtils.config.flash&&"undefined"!=typeof VideoUtils.config.flash.property?VideoUtils.config.flash.property:"mlbtv",c="undefined"!=typeof VideoUtils.config.flash&&"undefined"!=typeof VideoUtils.config.flash.release?VideoUtils.config.flash.release:"1.0.5",d=VideoUtils.bamStaticURL();return d+="/fedapp/video/flash/"+a+"/",d+=b+"/"+c,d+="/xml/skin_config.xml"},b.defaultConfig={};var f=window.location.search.indexOf("jenkins")>=0;f&&(b.swfPath=VideoUtils.bamStaticURL()+"/fedapp/video/flash/fvp/jenkins/ci/fvp.swf")}),function(a,b){"function"==typeof define&&define.amd?define("message-service/message-service",[],function(){return b()}):a.MessageService=b()}(this,function(){function a(a){this.name=a.name,this.consumers={},this.consumerCount=0,this.owner=a.owner,this.target=a.target}var b="div",c="Events",d=!0,e=!1,f={bubbles:e,cancelable:e},g=document,h="function"==typeof Event?function(a){return new Event(a,f)}:function(a){var b=g.createEvent(c);return b.initEvent(a,f.bubbles,f.cancelable),b};a.prototype.publish=function(a){var b=h(this.name);return b.data=a,this.target.dispatchEvent(b)},a.prototype.addConsumer=function(a,b,c,f){var g,h=(f||b)+"",i=this,j=this.consumers[h]||[];this.removeConsumer(b,a,h),j.push(g=function(d){return c&&i.owner.off.call(a||i.owner,i.name,b,h),b.call(a,d.data,d)}),g.scope=a,g.originalConsumer=b,this.consumerCount++,this.consumers[h]=j,this.target.addEventListener(this.name,g,e,d)},a.prototype.removeConsumer=function(a,b,c){var f,g=(c||a)+"",h=this.consumers[g],i=this.name;if(h)for(var j=h.length,k=0;j>k;k++)if(f=h[k],f.originalConsumer===a&&(!b||f.scope===b)){this.target.removeEventListener(i,f,e,d),h.splice(k,1),h.length||delete this.consumers[g],this.consumerCount--;break}},a.prototype.removeAllConsumers=function(){var a,b,c,f,g=this.consumers,h=this.target,i=this.name;for(a in g){for(b=g[a],c=0,f=b.length;f>c;c++)h.removeEventListener(i,b[c],e,d);this.consumerCount=0,delete g[a]}};var i=function(c){var e={},f=g.createElement(b);return c.publish=function(a,b){var c=e[a];return c?c.publish(b):void 0},c.on=c.addListener=function(b,d,g){var h=e[b]||(e[b]=new a({name:b,target:f,owner:c}));if(!d)throw new Error("message-service : no listener specified for topic : "+b);h.addConsumer(this,d,g)},c.off=c.removeListener=function(a,b){var c=e[a];c&&b&&(c.removeConsumer(b,this),c.consumerCount<=0&&delete e[a])},c.one=c.once=function(a,b){c.on.call(this,a,b,d)},c.removeAllListeners=function(a){var b;if(a)return b=e[a],b&&b.removeAllConsumers(),void delete e[a];for(b in e)e[b].removeAllConsumers(),delete e[a]},c.getTopics=function(a){return e},c.hasListeners=function(a){var b=e[a];return a&&b?!!b.consumerCount:!1},c};return i({bind:function(a){if(!a)throw new Error("Binding object not specified");return i(a)},create:function(){return i({})}})}),function(a,b){"function"==typeof define&&define.amd?define("bandwagon/bandwagon",["jquery","message-service/message-service"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("message-service/message-service")):a.Bandwagon=b(a.jQuery,null)}(this,function(a,b){"use strict";function c(){g()}var d,e={global:{}},f={},g=function(){};return c.prototype={registerEvents:function(b,c){b?e[b]?a.extend(!0,e[b],c):e[b]=c:a.extend(!0,e.global,c)},deleteEventsByKey:function(a){a&&e[a]?delete e[a]:console.log("bandwagon: specified namespace does not exist in events cache to delete",a)},getRegisteredEvents:function(){return e},getRegisteredEventsByKey:function(a){var b;return a&&e[a]?b=e[a]:console.log("please provide valid event key you want to retrieve from the events cache",a),b},getInstanceByKey:function(a){var c={};return c=a&&!f[a]?f[a]=b.create():f[a]},getInstancesAvailable:function(){return f},deleteInstanceByKey:function(a){a&&f[a]?delete f[a]:console.log("bandwagon: specified key does not exist in cache to delete",a)}},d=d||new c}),define("chromecast-utils/common/chromecastLibs",[],function(){var a={available:!0},b=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&navigator.vendor.toLowerCase().indexOf("google")>-1;return b&&(a=require(["//www.gstatic.com/cv/js/sender/v1/cast_sender.js","//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js"],function(){
return{available:!1}})),a}),define("chromecast-utils/common/utilities",["underscore"],function(a){function b(a){return void 0!==a&&null!==a}function c(a){return a===!0||"true"===a}function d(b){a.isFunction(b)&&b()}function e(a,b){var c=Array.prototype.slice.call(arguments,2);return c.length?a&&e.apply(this,[a[b]].concat(c)):a&&a[b]}function f(b,c){return function(){a.isFunction(b)&&b.apply(this,arguments),a.isFunction(c)&&c.apply(this,arguments)}}function g(a){return a?a.dispatcher&&a.dispatcher.on&&a.dispatcher.publish?a.applicationId?a.messageNamespace?void 0:new Error("messageNamespace is required"):new Error("applicationId is required"):new Error('dispatcher is required and is required to have "on" and "publish" functions'):new Error("config is required")}function h(a,b,c){a&&b&&a.publish(b,c)}function i(a,b,c,d,e,f){if(!a)return null;var g={command:c,content:d};b.sendMessage(a,g,e,f)}function j(b){return b&&a.isFunction(b.getEstimatedTime)?{contentId:e(b,"media","contentId"),timecode:b.getEstimatedTime(),duration:e(b,"media","duration"),isLive:e(b,"media","customData","isLive"),playerState:e(b,"playerState"),mediaSessionId:e(b,"mediaSessionId")}:void 0}var k=function(a,b){return function(a){h(b,a)}};return{isDefined:b,isTrue:c,callCallback:d,oPluck:e,joinFunc:f,getConfigError:g,dispatchMessage:h,dispatchCallbackMessage:k,sendMessage:i,toTimecodeInfoObj:j}}),define("chromecast-utils/common/events",[],function(){"use strict";return{CHROMECAST_ERROR:"app:cmd:chromecastError",CHROMECAST_AVAILABLE:"app:cmd:chromecastAvailable",CHROMECAST_UNAVILABLE:"app:cmd:chromecastUnavailable",CHROMECAST_CONNECTING:"app:cmd:chromecastConnecting",CHROMECAST_CONNECTED:"app:cmd:chromecastConnected",CHROMECAST_DISCONNECTED:"app:cmd:chromecastDisconnected",CHROMECAST_TIMECODE_UPDATE:"app:cmd:chromecastTimecodeUpdate",CHROMECAST_VOLUME_CHANGED:"app:cmd:chromecastVolumeChanged",CHROMECAST_MUTED:"app:cmd:chromecastMute",CHROMECAST_UNMUTED:"app:cmd:chromecastUnmute",CHROMECAST_NO_DEVICES:"app:cmd:chromecastNoDevices",CHROMECAST_INITIALIZED:"app:cmd:chromecastInitialized",CHROMECAST_INITIALIZED_ERROR:"app:cmd:chromecastInitializedError",CHROMECAST_CAST_STARTED:"app:cmd:chromecastCastStarted",CHROMECAST_CAST_STOPPED:"app:cmd:chromecastCastStopped",CHROMECAST_CAST_PLAYING:"app:cmd:chromecastCastPlaying",CHROMECAST_CAST_PAUSED:"app:cmd:chromecastCastPaused",CHROMECAST_CAST_BUFFERING:"app:cmd:chromecastCastBuffering",CHROMECAST_SESSION_STARTED:"app:session:started",CHROMECAST_SESSION_RESUMED:"app:session:resumed",CHROMECAST_SESSION_ENDING:"app:session:ending",CHROMECAST_MESSAGE_ERROR:"app:msg:chromecast:error",CHROMECAST_MESSAGE_SEND_ERROR:"app:msg:chromecast:send:error",CHROMECAST_MESSAGE_SEND_SUCCESS:"app:msg:chromecast:send:success",CHROMECAST_MESSAGE_CAPTIONS_ON_SUCCESS:"app:msg:chromecast:captionsOn:success",CHROMECAST_MESSAGE_CAPTIONS_ON_ERROR:"app:msg:chromecast:captionsOn:error",CHROMECAST_MESSAGE_CAPTIONS_OFF_SUCCESS:"app:msg:chromecast:captionsOff:success",CHROMECAST_MESSAGE_CAPTIONS_OFF_ERROR:"app:msg:chromecast:captionsOff:error",CHROMECAST_MESSAGE_CAPTIONS_STATUS_SUCCESS:"app:msg:chromecast:captionsStatus:success",CHROMECAST_MESSAGE_CAPTIONS_STATUS_ERROR:"app:msg:chromecast:captionsStatus:error",CHROMECAST_MESSAGE_PLAYBACK_RESUME_SUCCESS:"app:msg:chromecast:playbackResume:success",CHROMECAST_MESSAGE_PLAYBACK_RESUME_ERROR:"app:msg:chromecast:playbackResume:error",CHROMECAST_MESSAGE_PLAYBACK_PAUSE_SUCCESS:"app:msg:chromecast:playbackPause:success",CHROMECAST_MESSAGE_PLAYBACK_PAUSE_ERROR:"app:msg:chromecast:playbackPause:error",CHROMECAST_MESSAGE_PLAYBACK_STOP_SUCCESS:"app:msg:chromecast:playbackStop:success",CHROMECAST_MESSAGE_PLAYBACK_STOP_ERROR:"app:msg:chromecast:playbackStop:error",CHROMECAST_MESSAGE_PLAYBACK_SEEK_SUCCESS:"app:msg:chromecast:playbackSeek:success",CHROMECAST_MESSAGE_PLAYBACK_SEEK_ERROR:"app:msg:chromecast:playbackSeek:error",CHROMECAST_MESSAGE_MUTE_SUCCESS:"app:msg:chromecast:mute:success",CHROMECAST_MESSAGE_MUTE_ERROR:"app:msg:chromecast:mute:error",CHROMECAST_MESSAGE_UNMUTE_SUCCESS:"app:msg:chromecast:unmute:success",CHROMECAST_MESSAGE_UNMUTE_ERROR:"app:msg:chromecast:unmute:error",CHROMECAST_MESSAGE_VOLUME_SUCCESS:"app:msg:chromecast:volume:success",CHROMECAST_MESSAGE_VOLUME_ERROR:"app:msg:chromecast:volume:error"}}),define("chromecast-utils/common/handlers",["underscore","./utilities","./events"],function(a,b,c){function d(d,e,f,g,h){function i(a){f(c.CHROMECAST_TIMECODE_UPDATE,b.toTimecodeInfoObj(a))}function j(a){clearInterval(a)}function k(a,b,c){return a&&c.playerState===h.media.PlayerState.PLAYING?setInterval(i,a,c):void 0}function l(a){f(a?c.CHROMECAST_MUTED:c.CHROMECAST_UNMUTED)}function m(a){f(c.CHROMECAST_VOLUME_CHANGED,a)}function n(a){b.isDefined(a.isMute)&&l(a.isMute),b.isDefined(a.volume)&&m(a.volume)}function o(a){switch(a){case h.media.PlayerState.IDLE:return c.CHROMECAST_CAST_STOPPED;case h.media.PlayerState.PLAYING:return c.CHROMECAST_CAST_PLAYING;case h.media.PlayerState.PAUSED:return c.CHROMECAST_CAST_PAUSED;case h.media.PlayerState.BUFFERING:return c.CHROMECAST_CAST_BUFFERING;default:return}}function p(a){v!==a.playerState&&(j(u),u=k(e,u,a),f(o(a.playerState),b.toTimecodeInfoObj(a)),v=a.playerState),v=a.playerState,i(a)}function q(d){d&&(f(c.CHROMECAST_CAST_STARTED,b.toTimecodeInfoObj(d)),d.addUpdateListener(a.partial(p,d)))}function r(a){q(a.mediaSession)}function s(a){v=null,j(u),u=null,a.session&&(a.session.addEventListener(g.SessionEventType.MEDIA_SESSION,r),a.session.addEventListener(g.SessionEventType.VOLUME_CHANGED,n),a.sessionState===g.SessionState.SESSION_STARTED&&f(c.CHROMECAST_SESSION_STARTED),(a.sessionState===g.SessionState.SESSION_STARTED||a.sessionState===g.SessionState.SESSION_RESUMED)&&(m(a.session.getVolume()),l(a.session.isMute())),a.sessionState===g.SessionState.SESSION_RESUMED&&(f(c.CHROMECAST_SESSION_RESUMED),q(a.session.getMediaSession())),a.sessionState===g.SessionState.SESSION_ENDING&&(f(c.CHROMECAST_CAST_STOPPED),f(c.CHROMECAST_SESSION_ENDING)))}function t(a){switch(a.castState){case g.CastState.NO_DEVICES_AVAILABLE:return void f(c.CHROMECAST_NO_DEVICES);case g.CastState.NOT_CONNECTED:return void f(c.CHROMECAST_DISCONNECTED);case g.CastState.CONNECTING:return void f(c.CHROMECAST_CONNECTING);case g.CastState.CONNECTED:return void f(c.CHROMECAST_CONNECTED);default:return}}var u,v;d.addEventListener(g.CastContextEventType.SESSION_STATE_CHANGED,s),d.addEventListener(g.CastContextEventType.CAST_STATE_CHANGED,t)}return d}),define("chromecast-utils/common/config-defaults",["underscore"],function(a){"use strict";function b(){return a.clone(c)}var c={authorization:null,muted:!1,volumeLevel:.5,captions:!1};return{create:b}}),define("chromecast-utils/common/model",["./utilities","./events"],function(a,b){function c(c,d,e){function f(){return c}function g(){return c.dispatcher}function h(){return c.messageNamespace}function i(){return e.CastContext.getInstance()}function j(){return i()&&i().getCurrentSession()}function k(){return i()&&i().requestSession()}function l(){return j()&&j().getMediaSession()}function m(){return l()&&l().getEstimatedTime()}function n(){return l()&&l().playerState===d.media.PlayerState.PAUSED}function o(){return l()&&l().media&&l().media.customData&&l().media.customData.captions}function p(){return j()&&j().isMute()}function q(){return j()&&j().getVolume()}function r(){return!!i()}function s(){return d.isAvailable}function t(){return!(!i()||i().getCastState()===e.CastState.NO_DEVICES_AVAILABLE)}function u(){return!(!l()||!l().playerState||l().playerState===d.media.PlayerState.IDLE)}function v(){return i()&&i().getCastState()===e.CastState.CONNECTED}function w(){return j()&&j().getCastDevice()&&j().getCastDevice().friendlyName}if(!_.isObject(c))throw new Error("config is required");if(!_.isObject(d))throw new Error("chromecastApi is required");if(!_.isObject(e))throw new Error("castApi is required");var x=_.partial(a.dispatchMessage,g()),y=function(a){return function(b){x(a,b)}},z=_.partial(a.sendMessage,h()),A=function(c,d,e,f){z(j(),c,d,a.joinFunc(y(b.CHROMECAST_MESSAGE_SEND_SUCCESS),e),a.joinFunc(y(b.CHROMECAST_MESSAGE_SEND_ERROR),f))};return{getConfig:f,getDispatcher:g,getNamespace:h,getSession:j,requestSession:k,getCurrentMedia:l,getCurrentTime:m,isPaused:n,getCaptions:o,isMuted:p,getVolume:q,isInitialized:r,isAvailable:s,isDeviceAvailable:t,isConnected:v,isCasting:u,getReceiverFriendlyName:w,dispatchMessage:x,dispatchCallbackMessage:y,sendMessage:A}}return c}),define("chromecast-utils/common/statuses",[],function(){function a(a){if(!_.isObject(a))throw new Error("model is required");return{isInitialized:a.isInitialized,isAvailable:a.isAvailable,isDeviceAvailable:a.isDeviceAvailable,isConnected:a.isConnected,isCasting:a.isCasting,getReceiverName:a.getReceiverFriendlyName,getSession:a.getSession,getCurrentMedia:a.getCurrentMedia,getCurrentTimecode:a.getCurrentTime}}return a}),define("chromecast-utils/common/controls",["underscore","./utilities","./events"],function(a,b,c){function d(d,e){function f(b){return function(){a.isFunction(d.isConnected)&&d.isConnected()&&a.isFunction(b)&&b.apply(this,arguments)}.bind(this)}function g(b,c,d){return function(){return a.some(b,a.negate(a.isFunction))?void(a.isFunction(c)&&c(new Error("missing function on the model"))):void d.apply(this,arguments)}.bind(this)}if(!a.isObject(d))throw new Error("model is required");if(!a.isObject(e))throw new Error("mediaLib is required");var h=f(function(a,e){g([d.sendMessage,d.dispatchCallbackMessage],e,function(){d.sendMessage("captions",!0,b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_CAPTIONS_ON_SUCCESS),a),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_CAPTIONS_ON_ERROR),e))})()}),i=f(function(a,e){g([d.sendMessage,d.dispatchCallbackMessage],e,function(){d.sendMessage("captions",!1,b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_CAPTIONS_OFF_SUCCESS),a),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_CAPTIONS_OFF_ERROR),e))})()}),j=f(function(a,f){g([d.getCurrentMedia,d.getCurrentMedia().play,d.dispatchCallbackMessage],f,function(){d.getCurrentMedia().play(new e.PlayRequest,b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_PLAYBACK_RESUME_SUCCESS),a),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_PLAYBACK_RESUME_ERROR),f))})()}),k=f(function(a,f){g([d.getCurrentMedia,d.getCurrentMedia().pause,d.dispatchCallbackMessage],f,function(){d.getCurrentMedia().pause(new e.PauseRequest,b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_PLAYBACK_PAUSE_SUCCESS),a),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_PLAYBACK_PAUSE_ERROR),f))})()}),l=f(function(a,f){g([d.getCurrentMedia,d.getCurrentMedia().stop,d.dispatchCallbackMessage],f,function(){d.getCurrentMedia().stop(new e.StopRequest,b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_PLAYBACK_STOP_SUCCESS),a),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_PLAYBACK_STOP_ERROR),f))})()}),m=f(function(a,f,h){g([d.getCurrentMedia,d.getCurrentMedia().seek,d.dispatchCallbackMessage],h,function(){var g=new e.SeekRequest;g.currentTime=parseFloat(a),d.getCurrentMedia().seek(g,b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_PLAYBACK_SEEK_SUCCESS),f),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_PLAYBACK_SEEK_ERROR),h))})()}),n=f(function(a,e){g([d.getSession,d.getSession().setMute,d.dispatchCallbackMessage],e,function(){d.getSession().getSessionObj().setReceiverMuted(!0,b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_MUTE_SUCCESS),a),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_MUTE_ERROR),e))})()}),o=f(function(a,e){g([d.getSession,d.getSession().setMute,d.dispatchCallbackMessage],e,function(){d.getSession().getSessionObj().setReceiverMuted(!1,b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_MUTE_SUCCESS),a),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_MUTE_ERROR),e))})()}),p=f(function(a,e,f){g([d.getSession,d.getSession().setVolume,d.dispatchCallbackMessage],f,function(){d.getSession().getSessionObj().setReceiverVolumeLevel(parseFloat(a),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_VOLUME_SUCCESS),e),b.joinFunc(d.dispatchCallbackMessage(c.CHROMECAST_MESSAGE_VOLUME_ERROR),f))})()}),q=function(a,b){g([d.requestSession],b,function(){d.requestSession().then(a,b)})()},r=function(a,b,c){g([d.getSession,d.getSession().loadMedia],c,function(){var f=new e.MediaInfo(a.contentId,"video/mp4");f.customData=a,f.streamType=e.StreamType.BUFFERED;var g=new e.LoadRequest(f);g.autoplay=!0,d.getSession().loadMedia(g).then(b,c)})()},s=function(b,c,e){g([d.getSession],e,function(){d.getSession()?r(b,c,e):q(a.partial(r,b,c,e),e)})()};return{captionsOn:h,captionsOff:i,resumePlayback:j,pausePlayback:k,stopPlayback:l,seekPlayback:m,muteMedia:n,unmuteMedia:o,setVolume:p,requestSession:q,castMedia:s,sendMessage:d.sendMessage}}return d}),define("chromecast-utils/common/core",["underscore","./chromecastLibs","./utilities","./handlers","./config-defaults","./model","./statuses","./controls","./events"],function(a,b,c,d,e,f,g,h,i){function j(a,b){window.chrome&&window.chrome.cast&&window.chrome.cast.isAvailable?a():window.__onGCastApiAvailable=function(c,d){c?a():b(d)}}function k(b,k){function l(a,b,c){var e=new c.CastOptions({receiverApplicationId:a.getConfig().applicationId,autoJoinPolicy:b.AutoJoinPolicy.ORIGIN_SCOPED}),f=c.CastContext.getInstance();f.setOptions(e),d(f,a.getConfig().timecodeInterval,a.dispatchMessage,c,b),a.dispatchMessage(i.CHROMECAST_INITIALIZED)}function m(b,c,d){var g=a.extend(e.create(),b);return f(g,c,d)}function n(d){var e=c.getConfigError(d);if(e)throw e;j(function(){var c=window.chrome.cast,d=window.cast.framework,e=m(b,c,d);dispatchMessage=e.dispatchMessage,l(e,c,d),o.controls=h(e,c.media),o.statuses=g(e),a.isFunction(k)&&k(o)},c.dispatchCallbackMessage(d.dispatcher,i.CHROMECAST_INITIALIZED_ERROR))}var o={events:a.clone(i)};n(b)}return k}),define("bam-chromecast-adapters/common-sender-handles",["underscore","chromecast-utils/common/events"],function(a,b){function c(a){return{contentId:a.contentId,isLive:a.isLive,timecode:a.timecode,position:a.timecode,duration:a.duration,state:a.playerState,mediaSessionId:a.mediaSessionId}}function d(){return void 0}return{CONNECTING:{onEvent:b.CHROMECAST_CONNECTING,name:"handleChromecastConnecting",republish:!1},CONNECTED:{onEvent:b.CHROMECAST_CONNECTED,name:"handleChromecastConnected",checkContent:!0,paramsProcessor:d,republish:!0},AVAILABLE:{onEvent:b.CHROMECAST_AVAILABLE,name:"handleChromecastAvailable",republish:!0},UNAVAILABLE:{onEvent:b.CHROMECAST_UNAVILABLE,name:"handleChromecastUnavailable",republish:!0},DISCONNECTED:{onEvent:b.CHROMECAST_DISCONNECTED,name:"handleChromecastDisconnected",republish:!0},MESSAGE_ERROR:{onEvent:b.CHROMECAST_MESSAGE_ERROR,name:"handleChromecastMessageError",checkContent:!0},CASTING_STARTED:{onEvent:b.CHROMECAST_CAST_STARTED,name:"handleChromecastCastingStarted",checkContent:!0,paramsProcessor:d,republish:!0},CASTING_STOPPED:{onEvent:b.CHROMECAST_CAST_STOPPED,name:"handleChromecastCastingStopped",checkContent:!0,paramsProcessor:d,republish:!0},MUTED:{onEvent:b.CHROMECAST_MUTED,name:"handleChromecastMuted",checkContent:!0,republish:!0},UNMUTED:{onEvent:b.CHROMECAST_UNMUTED,name:"handleChromecastUnmuted",checkContent:!0,republish:!0},VOLUME:{onEvent:b.CHROMECAST_VOLUME_CHANGED,name:"handleChromecastVolumeChanged",checkContent:!0,republish:!0},MEDIA_STATUS:{onEvent:b.CHROMECAST_TIMECODE_UPDATE,name:"handleChromecastMediaStatusUpdate",checkContent:!0,republish:!0,paramsProcessor:c},ERROR:{onEvent:b.CHROMECAST_ERROR,name:"handleChromecastError",checkContent:!0},PLAYING:{onEvent:b.CHROMECAST_CAST_PLAYING,name:"handleChromecastPlaying",checkContent:!0,republish:!0},PAUSED:{onEvent:b.CHROMECAST_CAST_PAUSED,name:"handleChromecastPaused",checkContent:!0,republish:!0},STOPPED:{onEvent:b.CHROMECAST_CAST_STOPPED,name:"handleChromecastStopped",checkContent:!0},CONNECTED_ON_CAST_STARTED:{onEvent:b.CHROMECAST_CAST_STARTED,name:"handleChromecastConnected",checkContent:!0,paramsProcessor:d,republish:!0},DISCONNECTED_BUT_AVAILABLE:{onEvent:b.CHROMECAST_DISCONNECTED,name:"handleChromecastAvailable"},CONNECTED_ON_CONNECTING:{onEvent:b.CHROMECAST_CONNECTING,name:"handleChromecastConnected",checkContent:!1,paramsProcessor:d,republish:!0}}}),define("bam-chromecast-adapters/common-adapter",["underscore","bandwagon/bandwagon","chromecast-utils/common/core","chromecast-utils/common/events","./common-sender-handles"],function(a,b,c,d,e){function f(){var a={PROD:G.chromecast.app_ids.PROD,BETA:G.chromecast.app_ids.BETA,QA:G.chromecast.app_ids.QA,DEV:G.chromecast.app_ids.PROD};return document.location.hostname.indexOf("local.")>-1||document.location.hostname.indexOf("dev.")>-1?a.DEV:document.location.hostname.indexOf("qa.")>-1?a.QA:document.location.hostname.indexOf("beta.")>-1?a.BETA:a.PROD}function g(b,c){b.on(d.CHROMECAST_CONNECTING,j),a.each(e,function(a){b.on(a.onEvent,n(a.name,a.checkContent,a.paramsProcessor,a.republish?a.onEvent:void 0))})}function h(a,b){a.on(d.CHROMECAST_SESSION_STARTED,i)}function i(a){ChromecastUtils.castMedia()}function j(){D&&D.switchLayoutView("LAYOUT_STATE_STANDARD");var a=e.CONNECTING;m(a.name,a.checkContent)}function k(b){return a.isArray(b)?a.map(b,k):a.isObject(b)&&!a.isFunction(b)?JSON.stringify(b):b}function l(b,c){return D&&a.isFunction(D.execute)?void 0!==c?D.execute(b,k(c)):D.execute(b):void 0}function m(a,b,c){if(b){if(A.statuses.getCurrentMedia()&&A.statuses.getCurrentMedia().media){var d=A.statuses.getCurrentMedia().media.customData;I&&H&&d&&d[I]===H[I]&&l(a,c)}}else l(a,c)}function n(a,b,c,d){return function(e){e=c?c(e):e,m(a,b,e),d&&C.publish(d,e)}}function o(b,c,d,e,f){var g={};a.isObject(c)&&(g=a.extend(g,c)),g.contentId=g[I]=b||H.contentId;var h=0;void 0!==d?h=d:void 0!==F?h=F:E&&void 0!==E.startTimeOffset&&(h=E.startTimeOffset),g.currentTime=h,g=a.extend({},H,g),g.isLive=g.isLive&&"false"!==g.isLive,void 0!==e?g.captions=e&&"false"!==e:g.captions=g.captions&&"false"!==g.captions,f(g)}function p(b){return function(c,d,e){var f;"string"==typeof c?f=c:a.isObject(c)&&(f=c[I]),o(f,c,d,e,b)}}function q(){var e=f();B=b.getInstanceByKey(L),C=b.getInstanceByKey(K),J=G.chromecast.namespace,I=G.chromecast.idProp;var i={dispatcher:B,applicationId:e,messageNamespace:J,timecodeInterval:1e3};c(i,function(b){A=b;var c={events:d,openDialog:A.controls.requestSession,getLastKnownMediaPosition:A.statuses.getCurrentTimecode,getSession:A.statuses.getSession,getReceiverName:A.statuses.getReceiverName,connected:A.statuses.isConnected,disconnect:A.controls.requestSession,session:A.statuses.getSession,castMedia:p(A.controls.castMedia),sendMessage:A.controls.sendMessage,captionsOn:A.controls.captionsOn,captionsOff:A.controls.captionsOff,muteMedia:A.controls.muteMedia,unmuteMedia:A.controls.unmuteMedia,setVolume:A.controls.setVolume,pausePlayback:A.controls.pausePlayback,resumePlayback:A.controls.resumePlayback,seekPlayback:A.controls.seekPlayback};a.extend(ChromecastUtils,c)}),g(B,C),h(B,C)}function r(a){D=a,E=a.clip}function s(a){E=a}function t(a){F=a}function u(a){G=a}function v(){return"undefined"!=typeof window.dataBootstrap?window.dataBootstrap.image:null}function w(){return"this is just a test"}function x(b){H=a.extend({},H,b)}function y(){m(e.CONNECTED.name,e.CONNECTED.checkContent)}function z(a){try{return l(a)}catch(b){return void 0}}var A,B,C,D,E,F,G,H,I,J,K="#video-player",L="chromecast:internal";return ChromecastUtils={init:q,events:d,jsGetHandshakeInfo:z,getStatusMessage:w,setConfig:u,getContentImageUrl:v,setVideoPlayer:r,setClip:s,setCurrentTime:t,setMetadata:x,connected:function(){return!1},rejoinSession:y},ChromecastUtils}),define("players/FlashPlayer",["jquery","core/VideoCore","players/BasePlayer","utils/VideoEvents","utils/StreamMediaErrorEventEnums","utils/VideoUtils","players/ui/AccessibleVideoControls","swfobject","flashVideoPlayback","bam-chromecast-adapters/common-adapter"],function(a,b,c,d,e,f,g,h,i,j){function k(c){var e=this;this.log("FlashPlayer"),k.superclass.constructor.call(this),this.embedCallback=function(b){b.success?a(e).trigger(d.FLASH_PLAYER_READY,["flashPlayerReady"]):(a(e).trigger(d.FLASH_PLAYER_READY_ERROR,["flashPlayerReadyError"]),a(e).trigger(d.ERROR,["embedError"]))},this.getFlashPlaylist=function(b){var c,d=[];return a.each(b,function(a,b){c=g.getFlashPlaylistItem(b),d.push(c)}),d},this.getFlashPlaylistItem=function(a){function b(b){return!(null===a[b]||"undefined"==typeof a[b])}return clipMetadata={content_id:a.content_id,duration:a.duration,path:a.path,isHighlight:a.isHighlight,isWatchNow:a.isWatchNow,type:"video",totalFailures:0},b("calendarEventId")&&(clipMetadata.calendarEventId=a.calendarEventId),b("mfCookies")&&(clipMetadata.mfCookies=a.mfCookies),b("isLive")&&(clipMetadata.isLive=a.isLive),b("isLinear")&&(clipMetadata.isLinear=a.isLinear),b("isAudioOnly")&&(clipMetadata.isAudioOnly=a.isAudioOnly),b("audioOnlyDisplayVO")&&(clipMetadata.audioOnlyDisplayVO=a.audioOnlyDisplayVO),b("convivaTrackingProps")&&(clipMetadata.convivaTrackingProps=a.convivaTrackingProps),b("freewheelProps")&&(clipMetadata.freewheelProps=a.freewheelProps),b("startTimeOffset")&&(clipMetadata.startTimeOffset=a.startTimeOffset),b("startTime")&&(clipMetadata.startTime=a.startTime),b("totalFailures")&&(clipMetadata.totalFailures=a.totalFailures),b("milestones")&&(clipMetadata.milestone_id=a.milestones.milestone_id,a.milestones.data&&(clipMetadata.milestones=a.milestones.data)),b("mfResponse")&&(clipMetadata.mfResponse=a.mfResponse),clipMetadata},this.execute=function(a,b){if(this.log("swfplayer."+a+"() was called."),!this.videoplayer||!this.videoplayer[a])throw new Error("FlashPlayer.execute: Called with invalid function:"+a+", or this._swfElem wasn't defined");if("undefined"!=typeof b)return this.videoplayer[a](b);try{return this.videoplayer[a]()}catch(c){console.error(c.message,c)}};var f="flvplayer_"+(new Date).valueOf();this.publicSelfName="VideoCore.instances."+f;var g=b.instances[f]=this;this.isLoaded,this.videoplayer,this.playlist=null,this.config=c,this.currentIndex=0,this.container=null}return b.inherit(k,c,{category:"FlashPlayer",type:"flash",init:function(b){function c(a){return!(null===b[a]||"undefined"==typeof b[a])}function d(a){if(window.location.search.indexOf("debug=")>=0){var b=!1;(window.location.search.indexOf("debug=true")>=0||window.location.search.indexOf("debug=on")>=0)&&(b=!0),a.debug=b}if(window.location.search.indexOf("stageVideoEnabled=")>=0){var c=!1;(window.location.search.indexOf("stageVideoEnabled=true")>=0||window.location.search.indexOf("stageVideoEnabled=on")>=0)&&(c=!0),a.stageVideoEnabled=c}}function e(a){if(!a.beginPosterPath&&!a.autoPlay){var b=f.getMetaData._cache[f.config.playlist[0].content_id];if("undefined"!=typeof b&&b.imagesByType){var c=b.imagesByType[13];void 0!==typeof c&&(c+=",/shared/images/overlay_play_button.png",c+=f.config.watermark?","+f.config.watermark:"",a.beginPosterPath=c)}}}this.log("flash player init()"),this.config=b,this.container=document.getElementById(this.config.container),this.config.file="string"==typeof b.fvpOverride?b.fvpOverride:i.swfPath(),this.playlist=f.normalizePlaylist(this.config.playlist),this.currentIndex=0,this.clip=this.playlist[this.currentIndex],this.accessibleControls,a("#"+this.config.container).empty(),a("#"+this.config.container).append('<div id="flashPlayerContainer"><div id="'+this.config.elemId+'"></div></div>'),this.config.accessibility&&this.config.accessibility.enabled?this.createAccessiblePlayer():(console.error("Flash Player Error: config.accessibility did not exist."),this.config.accessibility={enabled:!1,container:""});var g={versionControl:this.config.versionControl,instanceName:this.publicSelfName,env:this.config.env,version:i.verison,release:i.release,skinConfigURL:"string"==typeof b.skinConfigOverride?b.skinConfigOverride:i.skinConfigURL()},k={allowScriptAccess:this.config.allowScriptAccess,allowFullScreen:this.config.allowFullScreen,menu:this.config.menu,wmode:this.config.wmode,scale:this.config.scale,align:"top"};c("preRollAdsEnabled")&&(g.preRollAdsEnabled=this.config.preRollAdsEnabled),c("midRollAdsEnabled")&&(g.midRollAdsEnabled=this.config.midRollAdsEnabled),c("isAuditudeSite")&&(g.isAuditudeSite=this.config.isAuditudeSite,g.auditudeZoneId=this.config.auditudeZoneID||50389,g.auditudeVersion=this.config.auditudeVersion,g.auditudeDomain=this.config.auditudeDomain,g.auditudeSwfDomain=this.config.auditudeSwfDomain),c("isFreeWheelSite")&&(g.isFreeWheelSite=this.config.isFreeWheelSite,g.adManager=this.config.adManager,g.adRenderXML=this.config.adRenderXML,g.adNetwork=this.config.adNetwork,g.adServer=this.config.adServer,g.adProfile=this.config.adProfile,g.siteSectionNetwork=this.config.siteSectionNetwork,g.fwTestNetwork=this.config.fwTestNetwork,g.fallbackNetwork=this.config.fallbackNetwork,g.fallbackNetworkTest=this.config.fallbackNetworkTest,g.freewheelCompanionSlots=this.config.freewheelCompanionSlots),c("adVolumeReducePercent")&&(g.adVolumeReducePercent=this.config.adVolumeReducePercent),c("salign")&&(g.salign=this.config.salign),c("videoAlign")&&(g.videoAlign=this.config.videoAlign),c("width")&&(g.matchWidth=this.config.width),c("height")&&(g.matchHeight=this.config.height),c("videoScaleMode")&&(g.videoScaleMode=this.config.videoScaleMode),c("volume")&&(g.volume=this.config.volume),c("autoPlay")&&(g.autoPlay=this.config.autoPlay),c("autoRewind")&&(g.autoRewind=this.config.autoRewind),c("hlsLiveInitialBufferTime")&&(g.hlsLiveInitialBufferTime=this.config.hlsLiveInitialBufferTime),c("hlsLivePlaybackBufferTime")&&(g.hlsLivePlaybackBufferTime=this.config.hlsLivePlaybackBufferTime),c("hlsArchiveInitialBufferTime")&&(g.hlsArchiveInitialBufferTime=this.config.hlsArchiveInitialBufferTime),c("hlsArchivePlaybackBufferTime")&&(g.hlsArchivePlaybackBufferTime=this.config.hlsArchivePlaybackBufferTime),c("hlsTokenWildcardSwf")&&(g.hlsTokenWildcardSwf=this.config.hlsTokenWildcardSwf),c("useWildcardDomainTokenSwf")&&(g.useWildcardDomainTokenSwf=this.config.useWildcardDomainTokenSwf),c("miniModeMinKbps")&&(g.miniModeMinKbps=this.config.miniModeMinKbps),c("miniModeMaxKbps")&&(g.miniModeMaxKbps=this.config.miniModeMaxKbps),c("initialKbps")&&(g.initialKbps=this.config.initialKbps),c("standardSizeRegularMinKbps")&&(g.standardSizeRegularMinKbps=this.config.standardSizeRegularMinKbps),c("standardSizeRegularMaxKbps")&&(g.standardSizeRegularMaxKbps=this.config.standardSizeRegularMaxKbps),c("standardSizeQuarterMinKbps")&&(g.standardSizeQuarterMinKbps=this.config.standardSizeQuarterMinKbps),c("standardSizeQuarterMaxKbps")&&(g.standardSizeQuarterMaxKbps=this.config.standardSizeQuarterMaxKbps),c("standardSizePipMinKbps")&&(g.standardSizePipMinKbps=this.config.standardSizePipMinKbps),c("standardSizePipMaxKbps")&&(g.standardSizePipMaxKbps=this.config.standardSizePipMaxKbps),c("fullScreenRegularMinKbps")&&(g.fullscreenRegularMinKbps=this.config.fullScreenRegularMinKbps),c("fullScreenRegularMaxKbps")&&(g.fullscreenRegularMaxKbps=this.config.fullScreenRegularMaxKbps),c("fullScreenQuarterMinKbps")&&(g.fullscreenQuarterMinKbps=this.config.fullScreenQuarterMinKbps),c("fullScreenQuarterMaxKbps")&&(g.fullscreenQuarterMaxKbps=this.config.fullScreenQuarterMaxKbps),c("fullScreenPipMinKbps")&&(g.fullscreenPipMinKbps=this.config.fullScreenPipMinKbps),c("fullScreenPipMaxKbps")&&(g.fullscreenPipMaxKbps=this.config.fullScreenPipMaxKbps),c("altAudioMinKbps")&&(g.altAudioMinKbps=this.config.altAudioMinKbps),c("altAudioMiniModeMaxKbps")&&(g.altAudioMiniModeMaxKbps=this.config.altAudioMiniModeMaxKbps),c("altAudioStandardSizeRegularMaxKbps")&&(g.altAudioStandardSizeRegularMaxKbps=this.config.altAudioStandardSizeRegularMaxKbps),c("altAudioFullscreenRegularMaxKbps")&&(g.altAudioFullscreenRegularMaxKbps=this.config.altAudioFullscreenRegularMaxKbps),c("autoHideSkin")&&(g.autoHideSkin=this.config.autoHideSkin),c("skinFadeDelay")&&(g.skinFadeDelay=this.config.skinFadeDelay),c("siteSection")&&(g.siteSection=this.config.siteSection),c("audioOnlySiteSection")&&(g.audioOnlySiteSection=this.config.audioOnlySiteSection),c("beginPosterPath")&&(g.beginPosterPath=this.config.beginPosterPath),c("endPosterPath")&&(g.endPosterPath=this.config.endPosterPath),c("skin")&&(g.skin=f.getVersionSkin(this.config.skin)),c("adConfig")&&(g.adConfigXML=this.config.adConfig),c("companionSize")&&(g.companionSize=this.config.companionSize),c("fullscreenSkin")&&(g.fullscreenSkin=this.config.fullscreenSkin),c("external_url")&&(g.external_url=this.config.external_url),c("videoClickThru")&&(g.videoClickThru=this.config.videoClickThru),c("property")&&(g.property=this.config.property),c("convivaTrackingEnabled")&&(g.convivaTrackingEnabled=this.config.convivaTrackingEnabled),c("convivaCustomerID")&&(g.convivaCustomerID=this.config.convivaCustomerID),c("convivaCustomerIdTest")&&(g.convivaCustomerIdTest=this.config.convivaCustomerIdTest),c("convivaTestNetwork")&&(g.convivaTestNetwork=this.config.convivaTestNetwork),c("convivaServiceURL")&&(g.convivaServiceURL=this.config.convivaServiceURL),c("useWorkaroundForSizeAvailableError")&&(g.useWorkaroundForSizeAvailableError=this.config.useWorkaroundForSizeAvailableError),c("hlsPlaybackEnabled")&&(g.hlsPlaybackEnabled=this.config.hlsPlaybackEnabled),c("stageVideoEnabled")&&(g.stageVideoEnabled=this.config.stageVideoEnabled),c("hlsTokenSwf")&&(g.hlsTokenSwf=this.config.hlsTokenSwf),c("tritonEnabled")&&(g.tritonEnabled=this.config.tritonEnabled),c("tritonInAdPollingInterval")&&(g.tritonInAdPollingInterval=this.config.tritonInAdPollingInterval),c("tritonOutAdPollingInterval")&&(g.tritonOutAdPollingInterval=this.config.tritonOutAdPollingInterval),c("tritonAdDuration")&&(g.tritonAdDuration=this.config.tritonAdDuration),c("isPSTV")&&(g.isPSTV=this.config.isPSTV),c("enableEventMultiContent")&&(g.enableEventMultiContent=this.config.enableEventMultiContent),c("flash")&&this.config.flash&&(g.multiview=this.config.flash.multiview,g.enableEventMultiContent=this.config.flash.enableEventMultiContent),(c("stageVideoEnabled")&&1==this.config.stageVideoEnabled||c("hlsPlaybackEnabled")&&1==this.config.hlsPlaybackEnabled&&f.doesFlashPlayerVersionSupportHls())&&(k.wmode="direct"),g.wmode=k.wmode,d(g),e(g),h.embedSWF(this.config.file,this.config.elemId,this.config.width,this.config.height,this.config.flashVersion,null,g,k,{},this.embedCallback),this.config.flash.chromecast=this.config.chromecast,j.setVideoPlayer(this),j.setConfig(this.config.flash),window.VideoPlayerManager=_.extend({},window.VideoPlayerManager),window.VideoPlayerManager.chromecast=j},createAccessiblePlayer:function(){var b,c;try{b=this.config.accessibility.targetContainer||"tv_index"}catch(d){}try{c=this.config.accessibility.container||"accessibilityContainer"}catch(d){}a("#"+b).prepend('<div id="'+c+'"></div>'),this.accessibleControls=new g(this,a(c),this.config),a("#"+this.config.accessibility.container).html(this.accessibleControls.source)},enterMiniMode:function(b,c){if(this.videoplayer)a(this.container).width(b).height(c),a("#"+this.config.elemId).width(b).height(c),this.videoplayer.enterMiniMode?this.videoplayer.enterMiniMode(b,c):this.resize(b,c);else{var d=this;setTimeout(function(){d.enterMiniMode(b,c)},500)}},exitMiniMode:function(b,c){if(this.videoplayer)a(this.container).width(b).height(c),a("#"+this.config.elemId).width(b).height(c),this.videoplayer.exitMiniMode?this.videoplayer.exitMiniMode(b,c):this.resize(b,c);else{var d=this;setTimeout(function(){d.exitMiniMode(b,c)},500)}},resize:function(b,c){if(this.videoplayer)a(this.container).width(b).height(c),a("#"+this.config.elemId).width(b).height(c),this.videoplayer.resizeVideo(b,c),a(this).trigger(d.RESIZE,{width:b,height:c});else{var e=this;setTimeout(function(){e.resize(b,c)},500)}},mute:function(){this.log("mute()"),this.execute("muteVolume")},unmute:function(a){this.log("unmute()"),a?this.execute("unMuteVolume",a):this.execute("unMuteVolume")},getVolume:function(){this.log("FlashPlayer.getVolume()");
},setVolume:function(a){this.log("setVolume()"),this.execute("changeVolume",a)},play:function(a,b){this.log("play()"),"undefined"!=typeof a&&(this.log("play() call this.setPlaylist()"),this.setPlaylist(a));var c=this.getFlashPlaylist(this.playlist),d=c?c.length:0;if(this.log("play() flashPlaylist.length = "+d),0==d)return void this.log("play() playlist is empty so get out of here");b&&(this.log("FlashPlayer: updateUserProfile called via play()"),this.execute("updateUserProfile",b));var e=c[0];this.config.accessibility.enabled&&this.accessibleControls&&this.accessibleControls.setContentItem(e),e.isWatchNow?this.execute("playWatchNow",e):e.isHighlight?this.execute("playHighlight",e):this.execute("playContent",e)},changeAudioChannel:function(a,b){this.log("FlashPlayer: changeAudioChannel - uniqueId = "+a+" channel = "+b),this.videoplayer&&this.videoplayer.changeAudioChannel(a,b)},clearContentByUniqueId:function(a){this.log("FlashPlayer: clearContentByUniqueId - uniqueId = "+a),this.execute("clearContentByUniqueId",a)},stopContentByUniqueId:function(a){this.log("FlashPlayer: stopContentByUniqueId - uniqueId = "+a),this.execute("stopContentByUniqueId",a)},selectSlotByEventId:function(a){this.log("FlashPlayer: selectSlotByEventId - eventId = "+a),this.execute("selectSlotByEventId",a)},postPlayUpdateUserProfile:function(a){this.log("FlashPlayer: updateUserProfile called via postPlayUpdateUserProfile()"),this.execute("updateUserProfile",a)},updateUserPreference:function(a){this.log("FlashPlayer: updateUserPreference - preference = ",a),this.execute("updateUserPreference",a)},getClip:function(){this.log("getClip()")},setClip:function(a){this.log("setClip()")},getPlaylist:function(){return this.log("getPlaylist()"),this.playlist},setPlaylist:function(a){var b=a?a.length:0;this.log("setPlaylist() playlist.length = "+b),this.playlist=f.normalizePlaylist(a),this.currentIndex=0},addToPlaylist:function(a){this.log("addToPlaylist()")},addToPlaylistAt:function(a,b){this.log("addToPlaylistAt()")},stop:function(){this.log("stop()"),this.execute("stopPlaylist")},pause:function(a){this.log("FlashPlayer.pause()"),this.execute("pausePlayback",a)},resume:function(a){this.log("resume()"),this.execute("resumePlayback",a)},quickRewind:function(a){this.log("quickRewind( "+a+" )"),this.execute("quickRewind",a)},quickFastForward:function(a){this.log("quickFastForward( "+a+" )"),this.execute("quickFastForward",a)},seekToLive:function(a){this.log("seekToLive( "+a+" )"),this.execute("seekToLive",a)},onPlayerLoaded:function(b){this.log("onPlayerLoaded"),this.videoplayer=document.getElementById(this.config.elemId),this.isLoaded=!0,a(this).trigger(d.PLAYER_LOADED,b)},exitFullpageMode:function(b){a(this).trigger(d.SCREEN_SMALL,b)},enterFullpageMode:function(b){a(this).trigger(d.SCREEN_LARGE,b)},enterMiniModeButtonClick:function(b){a(this).trigger(d.ENTER_MINI_MODE,b)},exitMiniModeButtonClick:function(b){a(this).trigger(d.EXIT_MINI_MODE,b)},trackingEvent:function(b){this.log("trackingEvent: impressionKey = "+b.impressionKey),a(this).trigger(d.TRACKING_EVENT,b)},selectedMediaSlotChanged:function(b){this.log("selectedMediaSlotChanged: metrics = "+b.metrics),a(this).trigger(d.SELECTED_MEDIA_SLOT_CHANGED,b)},videoAreaLayoutStateChanged:function(b){this.log("videoAreaLayoutStateChanged: metrics = "+b.metrics),a(this).trigger(d.VIDEO_AREA_LAYOUT_STATE_CHANGED,b)},mediaSlotStateChanged:function(b){this.log("mediaSlotStateChanged: metrics = "+b.metrics),a(this).trigger(d.MEDIA_SLOT_STATE_CHANGED,b)},changeVolume:function(b){this.log("videoAreaLayoutStateChanged: metrics = "+b.metrics),a(this).trigger(d.CHANGE_VOLUME,b)},switchLayoutView:function(a){this.execute("switchViews",a)},contentStarted:function(c){this.log("contentStarted"),this.clip=this.playlist[this.currentIndex],"undefined"!=typeof this.clip.milestones&&this.clip.milestones.data&&b.utils.callActionscript("ingestMilestones",this.clip.milestones.data),a(this).trigger(d.CLIP_START,c),a(this).trigger(d.CLIP_SET,c)},pauseMedia:function(b){this.log("pauseMedia"),a(this).trigger(d.MEDIA_PAUSED,b)},resumeMedia:function(b){this.log("resumeMedia"),a(this).trigger(d.MEDIA_RESUME,b)},muteButton:function(b){this.log("muteButton"),a(this).trigger(d.MUTE_BUTTON_CLICKED,b)},playbackStarted:function(b){this.log("playbackStarted "),a(this).trigger(d.PLAYBACK_STARTED,b)},seekComplete:function(b){this.log("seekComplete"),a(this).trigger(d.SEEK_COMPLETE,b)},closeHighlight:function(b){this.log("closeHighlight"),a(this).trigger(d.CLOSE_HIGHLIGHT,b)},contentComplete:function(b){this.log("contentComplete"),this.currentIndex++,a(this).trigger(d.CLIP_COMPLETE,b)},enableClosedCaptions:function(b){this.log("enableClosedCaptions"),a(this).trigger(d.ENABLE_CLOSED_CAPTIONS,b)},disableClosedCaptions:function(b){this.log("disableClosedCaptions"),a(this).trigger(d.DISABLE_CLOSED_CAPTIONS,b)},onTimecodeReceived:function(b){this.log("onTimecodeReceived: timecode="+b.timecode+", uniqueId="+b.uniqueId+", gameId="+b.gameId),a(this).trigger(d.TIMECODE,b)},streamMediaError:function(b){var c=b.errorMessage,f=b.errorType,g=b.uniqueId;switch(this.log("streamMediaError() errorType: "+f+", errorMessage: "+c+", uniqueId: "+g),f){case e.HLS_NOT_ENABLED:case e.HLS_NOT_SUPPORTED:case e.HLS_PLAYBACK_FAILED:break;case e.DEFAULT_STREAMING_MEDIA_ERROR:}a(this).trigger(d.MEDIA_ERROR,b)},showDefaultCompanionAd:function(a){this.log("showDefaultCompanionAd"),b.advertising.showDefaultCompanionAd()},companionAd:function(){if(this.log("companionAd"),arguments.length>0){var a=Array.prototype.slice.call(arguments[0]);b.advertising.showCompanionAd(a)}},adPlaybackStart:function(b){this.log("adPlaybackStart: uniqueId="+b.uniqueId+", slotPosition="+b.slotPosition),a(this).trigger(d.FREEWHEEL_AD_STARTED,b)},adPlaybackEnd:function(b){this.log("adPlaybackEnd: uniqueId="+b.uniqueId+", slotPosition="+b.slotPosition),a(this).trigger(d.FREEWHEEL_AD_ENDED,b)},onPlaylistBegin:function(b){this.log("onPlaylistBegin"),a(this).trigger(d.PLAYLIST_START,b)},onPlaylistComplete:function(b){this.log("onPlaylistComplete"),this.currentIndex=0,a(this).trigger(d.PLAYLIST_COMPLETE,this.clip)},handleChromecastConnected:function(){},handleChromecastDisconnected:function(){},handleEnableClosedCpations:function(){if(window.VideoPlayerManager&&window.VideoPlayerManager.chromecast){var a=window.VideoPlayerManager.chromecast;a.captionsOn&&a.captionsOn()}},handleDisableClosedCpations:function(){if(window.VideoPlayerManager&&window.VideoPlayerManager.chromecast){var a=window.VideoPlayerManager.chromecast;a.captionsOff&&a.captionsOff()}}}),b.moduleCache.FlashPlayer=k,b.moduleCache.FlashPlayer}),define("players/MobilePlayer",["jquery","core/VideoCore","players/BasePlayer","utils/DeviceDetection","utils/VideoUtils","utils/VideoEvents"],function(a,b,c,d,e,f){function g(a){this.log("constructor()"),this.device=new d,g.superclass.constructor.call(this)}return b.inherit(g,c,{category:"MobilePlayer",type:"mobile",videoPlayer:null,container:null,config:null,clip:null,playlist:null,play:function(b,c){this.log("play()"),"undefined"!=typeof b&&(this.playlist=b,this.log(this.playlist)),this.playlist.length>0?(this.clip=this.playlist.shift(),this.videoPlayer.play(),a(this).trigger(f.CLIP_START,this.clip)):a(this).trigger(f.PLAYLIST_COMPLETE,this.clip)},init:function(b){function c(a){n.VideoPlayer.preRollWrapper.play(a)}var h,i,j,k,l,m=this,n=function(){return function(){var b,c=window,d=c.Curveball||(c.Curveball={});if(a===b)throw new Error("Missing Zepto or jQuery library.");var e="1.0.0",f=!1,g=c.curve,h={LOCAL:"LOCAL",BETA:"BETA",QA:"QA",PROD:"PROD"};return _ENV=h.PROD,a.extend(a,{isNumeric:a.isNumeric||function(a){return!isNaN(parseFloat(a))&&isFinite(a)},ensureArray:function(b,c){return b=b&&(a.isArray(b)?b:[b])||[],c?b.length=c:null,b},noop:a.noop||function(){}}),d=a.extend(d,{getVersion:function(){return e},noConflict:function(){f=!0,c.curve=g},setEnv:function(a){_ENV=a},getEnv:function(){return _ENV},ENV:h,inherit:function(){var b="function",c=Object.prototype.constructor,d=Object.create||function(a){function b(){}return b.prototype=a,new b},e=Array.prototype.slice,f=function(b,c){return a.extend.apply(a,e.call(c,2))};return function(a,e,g){if(typeof e!==b||typeof a!==b)throw new Error("inherit failed, please check all dependencies.");var h=d(e.prototype);return h.constructor=a,f(h,arguments),a.superclass=e.prototype,a.prototype=h,e.prototype.constructor===c&&(e.prototype.constructor=e),a}}(),namespace:function(a,b){var c=(b||a).split("."),d=0,e=c.length;for(a=b&&a||_Curveball;e>d;++d)a=a[c[d]]=a.hasOwnProperty(c[d])?a[c[d]]:{};return a},ensureNamespace:function(a,b){a=a||{};var c=a;return this.namespace(a,b),c}})}(),function(a,c,d,e){d.MediaPlayer||(d.MediaPlayer={buildPlayer:function(a){var c,d=document.createDocumentFragment(),f=a.type||"video",g=e.extend([],Object.create(this.Playlist)),h=a.poster||!1,i=a.urls||[],j=document.createElement(f);return j.setAttribute("preload","true"),j.setAttribute("controls","true"),j.setAttribute("width",a.width),j.setAttribute("height",a.height),"Embedded Video Player"!==b.playerContext&&"icenetwork"!==b.property?e(j).css("max-height","180px"):e(j).css("min-height","100%"),j.style.display="none",h&&j.setAttribute("poster",h),i.length<=1?c=e.isArray(i[0])?{url:i[0],html:i[0].map(function(a){return this.utils.getSourceTags(a,!0)},this)}:{url:i[0],html:this.utils.getSourceTags(i,!0)}:(g.add(i),c=g.shift()),g.setActive(c),(e.isArray(c)?c.map(function(a){return a.html}):[c.html]).forEach(function(a){j.appendChild(a)}),d.appendChild(j),{html:d,config:{playlist:g}}},Playlist:{_active:null,playNext:function(a){var b=this.shift();this.setActive(b),e(a).html(b.html),b.callback&&b.callback(a)},add:function(a){var b=this;Array.isArray(a)?a.forEach(function(a){b.push(b.createItem(a))}):b.push(b.createItem(a))},createItem:function(a){return"string"==typeof a&&(a={url:a,isAd:!1}),e.extend({isAd:e.isArray(a.isAd)?a.isAd.map(function(a){return a.isAd}):a.isAd,html:e.isArray(a.url)?a.url.map(function(a){return d.MediaPlayer.utils.getSourceTags(a,!0)}):d.MediaPlayer.utils.getSourceTags([a.url],!0),callback:e.isArray(a.callback)?a.callback.map(function(a){return a.html}):a.callback||null},a)},findItem:function(a,b){var c;return b||(b=a,a="content_id"),c=this.filter(function(b){return b[a]==this.value},{value:b}),c.length>1&&console.warn("More than one item was found in playlist search."),c},getActive:function(){return e.extend({},this._active)},setActive:function(a){this._active=a}},utils:{getSourceTags:function(a,b){var c,d,f,g=0,h=[];if(a.forEach(function(b,c){void 0===b&&(a[c]="undefined")}),!a)throw new Error("Missing video urls");if(b===!0&&e.isArray(a)){for(c=document.createDocumentFragment(),f=a.length,d=document.createElement("source");f>g;g++)a[g].indexOf&&-1===a[g].indexOf("jpg")&&(d.setAttribute("src",a[g]),c.appendChild(d));return c}if("object"==typeof a[0]){for(f=a.length;f>g;g++)return"video"===a[g].type.toLowerCase()&&h.push("<source src='"+a[g].path+"' data-content_id="+a[g].content_id+"'></source>"),h.join("");return h.join("")}if(e.isArray(a)){for(f=a.length;f>g;g++)h.push("<source src='"+a[g]+"'></source>");return h.join("")}return a.length>0?"<source src='"+a+"'></source>":""}}})}(this,this.document,this.Curveball,this.Zepto||a),function(a,c,e,h){if(!e.VideoPlayer){if(!e.MediaPlayer)throw new Error("This player requires the MediaPlayer superclass.");var i=Object.create(e.MediaPlayer);i.flashPlayer=function(a){function b(a){if(!a.success)try{f.notSupported()}catch(a){console.log("Flash Not Supported!")}}var d,e,f={file:"/shared/flash/video/flvplayer_v4.swf?v=6",elemId:"flvContainer_"+(new Date).getTime(),width:"100%",height:"100%",flashVersion:"10.0.0",versionControl:"4.3",allowScriptAccess:"always",allowFullScreen:"true",volume:70,autoPlay:!0,wmode:"direct",skin:"vpp2010",skinConfigURL:"/shared/flash/video/skins/skin_config.xml",playlist:[],scale:"noScale",isFreeWheelSite:!1,container:c.body,onPlayerLoaded:function(){},playlistParseError:function(){},streamMediaError:function(){},onPlaylistBegin:function(){},onPlaylistComplete:function(){},contentStarted:function(){},contentComplete:function(){},onCollapse:function(){},onTimecodeReceived:function(){}};return h.extend(f,a),d={versionControl:f.versionControl,isFreeWheelSite:f.isFreeWheelSite,instanceName:"Curveball.VideoPlayer.flashPlayer.instances."+f.elemId,autoPlay:f.autoPlay,matchWidth:f.width,matchHeight:f.height,skin:f.skin,skinConfigURL:f.skinConfigURL},e={allowScriptAccess:f.allowScriptAccess,allowFullScreen:f.allowFullScreen,wmode:f.wmode,scale:f.scale,align:"top"},h("<div>").attr("id",f.elemId).appendTo(f.container),swfobject.embedSWF(f.file,f.elemId,f.width,f.height,f.flashVersion,null,d,e,{},b),i.flashPlayer.instances[f.elemId]={elemId:f.elemId,onPlayerLoaded:f.onPlayerLoaded,playlistParseError:f.playlistParseError,streamMediaError:f.streamMediaError,onPlaylistBegin:f.onPlaylistBegin,onPlaylistComplete:f.onPlaylistComplete,contentStarted:f.contentStarted,contentComplete:f.contentComplete,onCollapse:f.onCollapse,onTimecodeReceived:f.onTimecodeReceived},i.flashPlayer.instances[f.elemId]},i.flashPlayer.instances={},i.htmlPlayer=function(a,b){var c,d,f,g={width:"100%",height:"100%"},i=0,j=0;return h.extend(g,a),f=function(){return e.VideoPlayer.buildPlayer(g)}(),d=h(g.container),d.length>0?(c=f.config.playlist.getActive(),d.html(f.html||""),c.callback&&c.callback(d.find("video")),d.find("video").bind("ended",function(a){f.config.playlist.length>0?f.config.playlist.playNext(this):h(this).unbind("ended")}),g.resumeOnReturn&&"ios"===e.mobileConfig.DeviceDetection.platformName.toLowerCase()&&(d.find("video").bind("loadedmetadata",function(a){var b,d;c=f.config.playlist.getActive(),c.isAd||(b=e.Cookies.get(g.resumeOnReturn.name)||0,d=setInterval(function(){a.target.currentTime.toFixed(2)<b?a.target.currentTime=b:(a.target.play(),clearInterval(d),h(a.target).unbind("loadedmetadata"))},100))}).bind("pause",function(a){var b=new Date;c.isAd||a.target.currentTime>3&&(j=a.target.currentTime,b=new Date(b.getTime()+72e6),!isNaN(parseInt(j.toFixed(2)))&&e.Cookies.set({name:g.resumeOnReturn.name,value:j.toFixed(2),expires:b}),g.resumeOnReturn.callback&&g.resumeOnReturn.callback(j,!0))}),g.resumeOnReturn.heartbeat&&setInterval(function(){i!==j&&(i=j,console.log("interval sent: "+j),g.resumeOnReturn.heartbeat(j))},3e4)),g.container.querySelector?g.container.querySelector("video"):d.find("video")):(console.log("return html"),f.html)},i.preRollWrapper=function(){function a(a){this.config={isLive:!1,contentID:a.content_id||a.contentID,dfd:a.dfd,auditudeZoneID:a.auditudeZoneID||50389,debug:a.debug||!0,ua:a.ua||window.navigator.userAgent.toLowerCase(),player:a.player||null,poster:a.poster||"",containerElement:h(a.container)||null,hiddenPlayer:a.container,urls:a.urls||[],data:a.data||"",tracking:a.tracking||null},this.config.player=this.config.containerElement.find("video")[0],j.call(this,this.config.containerElement)}function c(){var a=document.createElement("video")||!1;this.html5=a&&"undefined"!=typeof a.canPlayType,this.mp4=this.html5&&("maybe"===a.canPlayType("video/mp4")||"probably"===a.canPlayType("video/mp4")),this.ogg=this.html5&&("maybe"===a.canPlayType("video/ogg")||"probably"===a.canPlayType("video/ogg"))}function j(a){function c(a){var b,c=new d,e=a.siteSection,f=e.substr(0,e.indexOf("/")),g=e.slice(e.lastIndexOf("/")+1,e.length),h=e.slice(e.indexOf("/")+1,e.lastIndexOf("/")),i="OTHER"==c.formFactorName?"desktop":c.formFactorName.toLowerCase(),j="preroll";return b="siteSection="+e,b=b.concat(";site="+f),b=b.concat(";section="+h),b=b.concat(";player="+g),b=b.concat(";devicetype="+i),b=b.concat(";adType="+j),"undefined"!=typeof a.league&&(b=b.concat(";league="+a.league)),b}function f(a){var d,f=this.config||this;l.audPlugin=d=aud.html5.AdPlayer(n,h(n).parent().get(0),"auditude.com",f.auditudeZoneID||m.config.auditudeZoneID,k),d.subscribe(aud.events.init_complete,function(a,b){var c=g.playlist.findItem(h(o).parent().data("cid"))[0].dfd;d.publish(aud.notifications.break_begin),c&&c.resolve(),o.pause()}),d.subscribe(aud.events.break_end,function(a,b){if(!h(o).parent().find(".auditude-video-poster").is(":visible")){if(h(o).removeAttr("src").append(g.playlist.findItem(h(o).parent().data("cid"))[0].html),i.preRollWrapper.config.played===!0)return null;i.preRollWrapper.config.played=!0,o.load(),setTimeout(function(){o.addEventListener("ended",function(){d.publish(aud.notifications.video_playback_complete)}),o.play()},500),setTimeout(function(){h(o).unbind("canplaythrough")},2e3)}}),d.init(["mlb_vod_"+e.VideoPlayer.preRollWrapper.config.contentID,"mlb_vod_default"],{userData:c(b)})}var j=window.aud,k={controls:!0,style:{backgroundColor:"#000"}},n=a.find("video").hide().get(0),o=i.preRollWrapper.config.player;return i.auditudeLoaded||j||!require?f():(i.auditudeLoaded=!0,require("auditude").raw.call(this,{opts:k,callback:f})),this.config.dfd?this.config.dfd.promise():void 0}function k(a){var b,c=h(a.target).parent();return b=c.find("video"),c.find(".playButton").hide(),c.find("img").hide(),h("video:visible").each(function(a,b){b.pause()}),b.show(),b.one("canplaythrough",function(){this.play()}),"IOS"===m.device.platformName?b.get(0).play():(b.get(0).play(),b.get(0).webkitEnterFullScreen&&b.get(0).webkitEnterFullScreen(),b.bind("webkitfullscreenchange",function(a){null===document.webkitFullscreenElement&&this.pause()})),h(m).trigger(f.CLIP_START,m.clip),a.stopPropagation(),this}var n={};return{config:n,init:a,detectVideoSupport:c,invokeAuditude:j,play:k}}(),i.Auditude=function(){var a={};return a}(),e.VideoPlayer=i}}(this,this.document,this.Curveball,this.Zepto||a),this.Curveball}();return this.config=b,this.container=document.getElementById(this.config.container),this.playlist=a.extend(!0,[],this.config.playlist),g.playlist=g.playlist||a.extend([],Object.create(n.MediaPlayer.Playlist)),g.device=this.device,this.clip=this.playlist[0],l={container:this.container,devicetype:this.device.formFactorName.toLowerCase(),urls:[this.clip.path||this.clip.videoPath]},l.poster=this.config.beginPosterPath,this.config.playlist[0].path?(("undefined"==typeof l.poster||null===l.poster)&&(l.poster=b.retinaDisplay?this.clip.metaData.imagesByType[43]||this.clip.metaData.imagesByType[2]||this.clip.metaData.imagesByType[7]:this.clip.metaData.imagesByType[44]||this.clip.metaData.imagesByType[e.getImageType()]||this.config.beginPosterPath||""||this.clip.metaData.imagesByType[2]||this.clip.metaData.imagesByType[2]),g.playlist.length>0?!g.playlist.some(function(a){return a.content_id===this.content_id},this.playlist[0])&&g.playlist.add({content_id:this.playlist[0].content_id,url:this.playlist[0].path,poster:l.poster}):this.playlist.forEach(function(a){this.add({content_id:a.content_id,url:a.path,poster:l.poster})},g.playlist),l.contentID=g.playlist[g.playlist.length-1].content_id,"undefined"!==b.playlist[0].path&&void 0!==b.playlist[0].path?this.videoPlayer=n.VideoPlayer.htmlPlayer(l):this.videoPlayer="","IE"===this.device.browserName&&"10"===this.device.browserVersion?document.querySelector("video").addEventListener("ended",function(b){n.VideoPlayer.preRollWrapper.config.played!==!0&&(a(m).trigger(f.CLIP_COMPLETE,m.clip),a(this).html(""),a(this).bind("loadeddata",function(b){this.play(),n.VideoPlayer.preRollWrapper.config.played=!0,a(this).unbind("loadeddata"),a(this).unbind("ended")}),this.src=videoHTMLConfig.urls.filter(function(a,b){return-1===b.src.indexOf(".m3u8")})[0].src,this.load())},!1):(a(this.videoPlayer).on("ended",function(b){a(m).trigger(f.CLIP_COMPLETE,m.clip)}),document.addEventListener("webkitvisibilitychange",function(){a("video:visible").each(function(a,b){b.pause()})},!1)),a(l.container).append("<div class='playButton'></div><img class='auditude-video-poster' src='"+(l.poster||"")+"' width='100%'/>"),a(l.container).find(".playButton").click(c),a(l.container).find(".auditude-video-poster").click(c),this.videoPlayer.style.className="vPlayer",a(this.videoPlayer).bind("playing",function(a){m.log(a),m.isPaused=!1,m.log("playing")}).bind("timeupdate",function(b){var c=a(this.videoPlayer).prop("currentTime"),d=a(this.videoPlayer).prop("duration");h=Math.round(c/d*100),i!=h&&(a(m).trigger(f.VIDEO_PROGRESS,h),i=h)}).bind("pause",function(b){m.log(b),m.isPaused=!0,m.log("paused"),b.target.currentTime!==b.target.duration?a(m).trigger(f.MEDIA_PAUSED):a(m).trigger(f.CLIP_COMPLETE,m.clip)}).bind("play",function(b){a(m).trigger(f.MEDIA_RESUME)}),a(this).trigger(f.PLAYER_LOADED),g.deferreds=g.deferreds||[],j=-1!==b.playerContext.indexOf("Embedded Video Player")&&"icenetwork"!==b.property?a(document.createElement("div")).append(a(l.container).children()).addClass("video-wrapper"):a(document.createElement("div")).append(a(l.container).children().clone()).addClass("video-wrapper"),-1===b.playerContext.indexOf("Embedded Video Player")&&"icenetwork"!==b.property?(k=g.playlist.findItem(b.playlist[0].content_id)[0],g.playlist.findItem.call(g.deferreds,b.playlist[0].content_id).length>0&&(g.playlist.findItem.call(g.deferreds,b.playlist[0].content_id)[0]=k),a(j).find(".playButton").click(c),a(j).find(".auditude-video-poster").click(c),k.container=j.get(0),a(k.container).attr("data-cid",k.content_id),k.dfd=new a.Deferred,g.deferreds.push(k),!g.auditudeHasInit&&n.VideoPlayer.preRollWrapper.init(g.deferreds.pop()),g.auditudeHasInit=!0,k.dfd.done(function(){g.deferreds.length>0?setTimeout(function(){n.VideoPlayer.preRollWrapper.init(g.deferreds.pop())},500):g.auditudeHasInit=!1})):(a(l.container).append(j),a(j).data("cid",l.contentID),n.VideoPlayer.preRollWrapper.init(l)),void a(m).trigger(f.PLAYLIST_LOADED,{clip:m.clip,params:b,videoElement:j})):(a(m).trigger(f.PLAYLIST_LOADED,{clip:m.clip,params:b,videoElement:a('<div class="video-error">This video is not supported by your browser or device.</div>')}),void a(m).trigger(f.ERROR,m.clip))}}),b.moduleCache.MobilePlayer=g,g}),define("models/MediaFrameworkMeta",["core/VideoCore","utils/VideoUtils","underscore-amd"],function(a,b,c){function d(a,b){var c=a,d=a.mediaServiceVO.user_verified_event,e=d.user_verified_content;b=b||e.content_id;var f=e.domainAttributes,g=e.user_verified_media_item,h=a.mediaItem;this.getKeyWordValue=function(a){return f[a]},this.data=function(){return c.media},this.keywords=f,this.urls=[g.url],this.content_id=b,this.authflow_required=h.auth_required,this.twitterInline=!1,this.shareable=!1,this.notEmbeddable=!0,this.notShareable=!0,this.embeddable=!1,this.combined_media_state=h.state,this.advisory_rating="",this.tv_rating="",this.closed_captioned="",this.closed_captions_location_ttml=this.getKeyWordValue("closed_captions_location_ttml"),this.start_time=null,this.calendar_event_id=this.getKeyWordValue("calendar_event_id"),this.coverage_association=this.getKeyWordValue("coverage_association"),this.coverage_type=this.getKeyWordValue("coverage_type"),this.default_dam_view_key=this.getKeyWordValue("default_dam_view_key"),this.event_date=null,this.away_team_id=this.getKeyWordValue("away_team_id"),this.home_team_id=this.getKeyWordValue("home_team_id"),this.call_letters=this.getKeyWordValue("call_letters"),this.game_id=this.getKeyWordValue("game_id"),this.game_pk=this.getKeyWordValue("game_pk"),this.inning_index_location_xml=this.getKeyWordValue("inning_index_location_xml"),this.milestones_xml="",this.date=null,this.duration="undefined"==typeof h.duration||null===h.duration?"":h.duration,this.headline=null,this.kicker=null,this.blurb=null,this.bigBlurb=null,this.imagesByType=null,this.thumb=null}return d}),define("models/AuthenticatedClip",["core/VideoCore","underscore-amd","models/MediaFrameworkMeta"],function(a,b,c){function d(b){this.type="video";var d="video";try{d=b.mediaServiceVO.user_verified_event.user_verified_content.type}catch(e){a.utils.log("AuthenticatedClip: error grabbing content type so use default value")}this.isAudioOnly="audio"===d,this.calendarEventId=b.mediaServiceVO.user_verified_event.event_id,this.content_id=b.mediaServiceVO.user_verified_event.user_verified_content.content_id,this.uniqueId=this.content_id||this.calendarEventId,this.mfResponse=b,b.url&&(this.path=b.url);try{this.mfCookies=b.mfCookies}catch(e){a.utils.log("AuthenticatedClip: error grabbing mfCookies array")}var f=!1;try{f="MEDIA_ON"==b.mediaItem.state||"MEDIA_STAGING"==b.mediaItem.state}catch(e){a.utils.log("AuthenticatedClip: error determining if clip is live")}this.isLive=f;var g=!1;try{var h=[],i=b.mediaServiceVO.user_verified_event.user_verified_content.domain_specific_attributes;"undefined"!=typeof i&&null!=i&&"undefined"!=typeof i.domain_attribute&&null!=i.domain_attribute&&(h=i.domain_attribute);var j;for(j in h)if("subject"==h[j].name&&h[j].value.indexOf("LINEAR")>=0){g=!0;break}}catch(e){a.utils.log("AuthenticatedClip: error determining if clip is linear")}this.isLinear=g;try{var k=b.mediaServiceVO.user_verified_event.user_verified_content.tracking;if("undefined"!=typeof k.conviva){var l=_.pluck(b.mediaServiceVO.user_verified_event.user_verified_content.tracking.conviva.tracking_attributes.conviva_attribute,"name"),m=_.pluck(b.mediaServiceVO.user_verified_event.user_verified_content.tracking.conviva.tracking_attributes.conviva_attribute,"value");this.convivaTrackingProps=_.object(l,m)}}catch(e){a.utils.log("AuthenticatedClip: error grabbing tracking object")}try{this.freewheelProps=b.mediaServiceVO.user_verified_event.user_verified_content.freewheelProps}catch(e){a.utils.log("AuthenticatedClip: error grabbing Freewheel Dynamic Content-level Properties")}try{this.metaData=new c(b)}catch(e){a.utils.log("AuthenticatedClip: error setting metaData")}}return a.AuthenticatedClip=d,a.AuthenticatedClip}),define("Video",["jquery","bindable/jquery.bindable","core/VideoCore","tracking/Tracking","utils/DeviceDetection","social/ShareStateResolver","social/SharingManager","utils/VideoEvents","utils/VideoUtils","advertising/Advertising","players/HTML5Player","players/FlashPlayer","players/MobilePlayer","models/AuthenticatedClip","http://playerservices.live.streamtheworld.com/api/idsync.js?station=82933"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(f){function g(a){if("undefined"==typeof a)return!1;var b=a.path||a.videoPath;return"undefined"==typeof b?!1:b.indexOf("rtmp")>-1}function k(){var a,b=I.flashVersion||"10.2",c=I.useFlash||!1,d=I.useHTML||!1,e=I.useMobile||!1;switch(!0){case c:a="FlashPlayer";break;case d:a="HTML5Player";break;case e:a="MobilePlayer";break;default:"PHONE"===L.formFactorName?a="MobilePlayer":i.detectVideoSupport().flash(b)?a="FlashPlayer":i.detectVideoSupport().mp4&&!g(I.playlist[0])?a="HTML5Player":(a="FallBackPlayer",i.log("FallBackPlayer"))}return a}function l(){I.playlist&&I.playlist.length>0?(i.log("Video.processMedia()"),F=I.playlist,i.log("playlist length: "+F.length),i.currentContentID=F[0].content_id,m(F[0])):i.log("no playlist")}function m(b){var d=!(b&&b.loadMetaData===!1);if(i.log("processClip: loadMetaData = "+d),d)if(b&&"undefined"!=typeof b.content_id)i.bind(h.META_DATA_ERROR,function(a,c){i.unbind(h.META_DATA_ERROR),i.unbind(h.META_DATA_LOADED),o(b)}),i.bind(h.META_DATA_LOADED,function(a,c){i.unbind(h.META_DATA_LOADED),i.log("META_DATA_LOADED"),n(b,c)}),b.metaData?i.setMetaDataWithMetaData(b.metaData,b.metaData.content_id,!1):i.getMetaData(I.rootDomain,b.content_id);else{if(a(J).trigger(h.META_DATA_LOADED,F),F.length>=1&&"undefined"!=typeof F[0].metaData){var e=F[0].metaData.authflow_required;if(i.log("Video.processClip() authflowRequired="+e),"undefined"!=typeof e&&e===!0){if("undefined"==typeof F[0].mfResponse)return i.log("Video.processClip() authflow_required==true but mfResponse not populated yet, so dispatch AUTHFLOW_REQUIRED event"),void a(J).trigger(h.AUTHFLOW_REQUIRED,{clip:F[0],playbackScenarios:[].concat(c.utils.config.playbackScenarios)});i.log("Video.processClip() authflow_required==true and mfResponse populated, so we can load the video")}else i.log("Video.processClip() authflow_required==false or undefined, so try to load the video")}try{H.isLoaded?(i.log("Video.processClip() _videoplayer.isLoaded"),H.play(F,G)):(i.log("This is the playlist at checkpoint 1: "+I.playlist),H.init(I))}catch(f){i.errorLog(f.toString(),"Video")}}}function n(b,d){try{if(b.metaData=d,b.duration=i.getDurationInSeconds(d.duration),b.topic_id=b.topic_id?b.topic_id:I.topic_id,b.path=b.path||c.utils.getClosestPlaybackBySize(I.width,d,"FLASH"),g(b)&&"HTML5Player"===E||"MobilePlayer"===E)switch(E){case"MobilePlayer":b.path=i.getPlaybackByType(d,"HTTP_CLOUD_MOBILE"),void 0!==b.path||"IOS"!==L.platformName&&"ANDROID"!==L.platformName||(b.path=i.getPlaybackByType(d,"FLASH_600K_400X224")||i.getPlaybackByType(d,"FLASH_300K_320X180")||i.getPlaybackByType(d,"FLASH_1000K_640X360"));break;case"HTML5Player":b.path=i.getPlaybackByType(d,"HTTP_CLOUD_TABLET")}("WINMOBILE"===L.platformName||(0===L.osVersion.search("2.")&&"ANDROID"===L.platformName||-1!==L.userAgent.indexOf("Mobile/10A523")&&"IOS"===L.platformName)&&"MobilePlayer"==E)&&(b.path=i.getPlaybackByType(d,"3GP_H264_550K_320X240"));var e=a.inArray(b,F);F&&e>=0&&e<F.length?m(F[e+1]):i.log("loaded them all")}catch(f){i.errorLog(f.toString(),"Video")}}function o(b){i.bind(h.META_DATA_ERROR,function(b){a(J).trigger(h.ERROR,{errorType:"Invalid Content"})}),i.bind(h.META_DATA_LOADED,function(c,d){i.unbind(h.META_DATA_LOADED),b.metaData=d,b.content_id=d.content_id,b.topic_id=b.topic_id?b.topic_id:I.topic_id,b.duration=i.getDurationInSeconds(d.duration),b.path=a(d.urls[0]).text();var e=a.inArray(b,F);F&&e>=0&&e<F.length?m(F[e+1]):i.log("loaded them all")}),i.getMetaData(I.rootDomain,I.fallbackContentId)}function p(b,d){i.log("reTrigger : "+b.type),a(c).trigger(b.type,d),a(J).trigger(b.type,d)}function q(a,b){i.log("videoplayer : "+a.type),p(a,b)}function r(a,b){i.log("onTrackingEvent : "+a.type);try{var d=b.impressionKey;i.log("onTrackingEvent : Track impression with impressionKey="+d),d&&c.tracking.trackByImpressionKey(d)}catch(e){i.log("onTrackingEvent : ERROR trying to capture impression")}}function s(b,d){i.log("onClipStart : "+b.type),i.currentContentID=d.uniqueId,a(J).trigger(h.CLIP_START,d);var e,f,g,j,k=t(d.uniqueId),l=I.flash.name+I.flash.release,m=k.clip,n="Media Player";m?(m.metaData.event_date=k.gameDate,e=m.metaData):(m=k.metaData,k.currentPlaybackScenario=m.currentPlaybackScenario,f=!0),j=k.currentPlaybackScenario,j.indexOf("FLASH")>-1?j="FMS_CLOUD":j.indexOf("HTTP_CLOUD_WIRED")>-1?j="NATIVE_HLS":j.indexOf("AUDIO")>-1&&(j="STREAM",n="Media Player Audio"),g={events:"event2,event27",media_streamId:d.uniqueId+"|"+k.currentPlaybackScenario,media_streamType:j,media_playerType:"flash",media_playerContext:I.playerContext,media_streamPlayer:I.topicName,media_playerVersion:l,media_videoStart:"Media Player",media_playerContext:n},f?(g.media_streamTitle=m.bigBlurb,g.media_streamState="Archive",g.media_streamVideo="User Generated",c.tracking.track(g)):(g.gameday_matchup="Media Player: "+m.audioOnlyDisplayVO.headline+": "+new Date(e.event_date).toDateString(),g.media_streamState=m.isLive?"Live":"Archive",c.tracking.track(g))}function t(a){var b;return _.each(VPM.mediaInstances,function(c,d){c.clip&&c.clip.content_id===a?b=c:c.currentPlaylistItem&&c.currentPlaylistItem.content_id===a&&(b=c.currentPlaylistItem)},b),b}function u(b,d){i.log("onClipComplete : "+b.type);try{c.tracking.trackOmniture({events:"event2,event4,event28",eVar28:d.uniqueId+"|"+I.playbackScenario,media_playerContext:I.playerContext})}catch(e){i.log("onClipComplete : an error occurred trying to call trackOmniture for videoComplete, error = "+e)}a(J).trigger(h.CLIP_COMPLETE,d),a.each(F,function(a,b){"undefined"!=typeof d&&"undefined"!=typeof b&&d.uniqueId==b.content_id&&F.splice(a,1)}),"HTML5Player"==E&&(F.length>0?H.play():F.length<=0&&a(J).trigger(h.PLAYLIST_COMPLETE,d))}function v(a){console.log("Videocore: onPlayerLoaded - e = ",a),K=!0,(I.autoPlay||_deferredPlay)&&(J.play(),_deferredPlay=!1),p(a)}function w(b,c){a(J).trigger(h.CLIP_SET,c)}function x(b,c){
var d=I.progressEvents;a.inArray(c,d)}function y(){B(),H.bind(h.PLAYER_LOADED,v),H.bind(h.SCREEN_SMALL,q),H.bind(h.SCREEN_LARGE,q),H.bind(h.PLAYLIST_START,q),H.bind(h.PLAYLIST_COMPLETE,q),H.bind(h.CLIP_START,s),H.bind(h.CLIP_COMPLETE,u),H.bind(h.AD_PLAYBACK_START,q),H.bind(h.AD_PLAYBACK_COMPLETE,q),H.bind(h.MEDIA_PAUSE,q),H.bind(h.MEDIA_RESUME,q),H.bind(h.FULLSCREEN_START,q),H.bind(h.FULLSCREEN_END,q),H.bind(h.ERROR,q),H.bind(h.MEDIA_ERROR,q),H.bind(h.SHARE_FACEBOOK,q),H.bind(h.SHARE_TWITTER,q),H.bind(h.SHARE_EMBED,q),H.bind(h.SHARE_OTHER,q),H.bind(h.RESIZE,q),H.bind(h.VIDEO_PROGRESS,x),H.bind(h.CLIP_SET,w),H.bind(h.TIMECODE,q),H.bind(h.SEEK_COMPLETE,q),H.bind(h.CLOSE_HIGHLIGHT,q),H.bind(h.PLAYBACK_STARTED,q),H.bind(h.PLAYLIST_LOADED,q),H.bind(h.ENTER_MINI_MODE,q),H.bind(h.EXIT_MINI_MODE,q),H.bind(h.ENABLE_CLOSED_CAPTIONS,q),H.bind(h.DISABLE_CLOSED_CAPTIONS,q),H.bind(h.TRACKING_EVENT,r),H.bind(h.FREEWHEEL_AD_STARTED,q),H.bind(h.FREEWHEEL_AD_ENDED,q),H.bind(h.SELECTED_MEDIA_SLOT_CHANGED,q),H.bind(h.MEDIA_SLOT_STATE_CHANGED,q),H.bind(h.VIDEO_AREA_LAYOUT_STATE_CHANGED,q),H.bind(h.FLASH_PLAYER_READY,q),i.bind(h.PROP_DATA_ERROR,q)}function z(){H.unbind(),a(c.advertising).unbind(c.advertising.DEFAULT_COMPANION_AD),a(c.advertising).unbind(c.advertising.COMPANION_AD),i.unbind(h.META_DATA_LOADED),i.unbind(h.PROP_DATA_ERROR)}function A(b){i.log("player type : "+b),E=b,H=c.factory(b,I),c.playerType=b,"HTML5Player"!=b&&"MobilePlayer"!=b||!I.isAuditudeSite?(c.advertising.active=!1,c.advertising.advertisers=[]):c.advertising.prepare(),a(J).trigger(h.PLAYER_TYPE,b)}function B(){a.each(I,function(b,c){h[b]&&a(J).bind(h[b],c)})}function C(b,c){i.log("showCompanionAd()"),a(J).trigger(h.COMPANION_BANNER,{ads:b,type:c})}function D(){i.log("playerInit"),c.advertising=new j(I),a(c.advertising).bind(c.advertising.DEFAULT_COMPANION_AD,function(a,b){C(b.ads,"default")}),a(c.advertising).bind(c.advertising.COMPANION_AD,function(a,b){C(b,"auditude")}),c.tracking=new d(I),A(k()),y(),l()}i.log("Video() constructor");var E,F,G,H,I=f.videocore,J=this,K=!1,L=new e;return i.config=I,_deferredPlay=!1,b(this),this.destroy=function(){i.log("Video.destroy()");try{z()}catch(a){i.log("unbind error")}try{H.destroy()}catch(a){i.log("_videoplayer does not exist or function does not exist: destroy()")}c.advertising.destroy(),c.advertising=null,I=J=F=H=null},this.play=function(b,d){"undefined"!=typeof d&&(G=d),K?(i.log("VC.video.play() "+i.config.playerID),"undefined"!=typeof b&&(I.playlist=b),"undefined"!=typeof b?E!=k()?(K=!1,_deferredPlay=!0,z(),D()):l():(a(this).trigger(h.PLAYLIST_START),a(c).trigger(h.PLAYLIST_START),"error"!=i.config.state&&"undefined"!=typeof I.advisorySlates&&(F=i.checkRatings(I.advisorySlates,F)),H.play(F,G))):(_deferredPlay=!0,"undefined"!=typeof b&&(I.playlist=b),D()),this.updateUserProfile(G)},this.clearContentByUniqueId=function(a){console.log("Videocore: clearContentByUniqueId - uniqueId = ",a);try{H.clearContentByUniqueId(a)}catch(b){i.log("_videoplayer does not exist or function does not exist: clearContentByUniqueId()")}},this.stopContentByUniqueId=function(a){console.log("Videocore: stopContentByUniqueId - uniqueId = ",a);try{H.stopContentByUniqueId(a)}catch(b){i.log("_videoplayer does not exist or function does not exist: stopContentByUniqueId()")}},this.selectSlotByEventId=function(a){console.log("Videocore: selectSlotByEventId - eventId = ",a);try{H.selectSlotByEventId(a)}catch(b){i.log("_videoplayer does not exist or function does not exist: selectSlotByEventId()")}},this.changeAudioChannel=function(a,b){console.log("Videocore: changeAudioChannel - uniqueId = ",a,", channel = ",b);try{H.changeAudioChannel(a,b)}catch(c){i.log("_videoplayer does not exist or function does not exist: changeAudioChannel()")}},this.resize=function(a,b){try{H.resize(a,b)}catch(c){i.log("_videoplayer does not exist or function does not exist: resize()")}},this.enterMiniMode=function(a,b){try{H.enterMiniMode(a,b)}catch(c){i.log("_videoplayer does not exist or function does not exist: enterMiniMode()")}},this.exitMiniMode=function(a,b){try{H.exitMiniMode(a,b)}catch(c){i.log("_videoplayer does not exist or function does not exist: exitMiniMode()")}},this.getPlaylist=function(){return F},this.startPlaylist=function(a){this.setPlaylist(a),this.play()},this.setPlaylist=function(a){i.log("Video.setPlaylist()"),I.playlist=a,K?l():D()},this.updateUserProfile=function(a){console.log("Videocore: updateUserProfile - profile = ",a),G=a},this.updateUserPreference=function(a){console.log("Videocore: updateUserPreference - preference = ",a);try{H.updateUserPreference(a)}catch(b){i.log("_videoplayer does not exist or function does not exist: updateUserPreference()")}},this.setLoadedPlaylist=function(a){a.forEach(function(a){a.metaData&&i.setMetaData(a.metaData,a.content_id,!0)},{VC:this}),this.setPlaylist(a)},"OTHER"!=L.formFactorName&&(I.autoPlay=!1),i.bind(h.PROP_DATA_LOADED,function(b,c){a(J).trigger(h.PLAYER_LOADED)}),i.bind(h.DEPENDENCIES_LOADED,function(){i.unbind(h.DEPENDENCIES_LOADED),i.log("DEPENDENCIES_LOADED"),I.playlist.length>0&&!I.autoPlay?D():I.autoPlay&&J.play(),a(J).trigger(h.PLAYER_LOADED)}),i.loadDependencies(),this}return p.prototype={shareTwitter:function(a){c.share("twitter",a)},shareFacebook:function(a){c.share("facebook",a)},shareGoogle:function(a){c.share("gplus",a)},shareEmbedCode:function(a){c.share("embed",a)},shareOther:function(a){c.share(null,a)}},c.Video=p,p});var env=window.location.hostname.indexOf("beta")>=0?"beta.":window.location.hostname.indexOf("qa")>=0||window.location.hostname.indexOf("dev")>=0?"qa.":"";require.config({paths:{jquery:"../bower_components/jquery/jquery",swfobject:"../bower_components/flashobject/flashobject",bitly:"http://ui."+env+"bamstatic.com/bridge/services/social/bitly/bitly","bam.cookies/cookies":"../bower_components/bam.cookies/cookies",flashVideoPlayback:"external/video_playback/flashVideoPlayback","underscore-amd":"../bower_components/underscore-amd/underscore",auditude:"../bower_components/auditude/auditude","bindable/jquery.bindable":"../bower_components/bindable/jquery.bindable",omniture:"../bower_components/tracking/omniture","bam.url/url":"../bower_components/bam.url/url","es5-sham":"../bower_components/es5-shim/es5-sham","bam-chromecast-adapters/common-adapter":"../bower_components/bam-chromecast-adapters/common-adapter","bam-chromecast-adapters/common-sender-handles":"../bower_components/bam-chromecast-adapters/common-sender-handles","bandwagon/bandwagon":"../bower_components/bandwagon/bandwagon","message-service/message-service":"../bower_components/message-service/message-service","chromecast-utils":"../bower_components/chromecast-utils"}}),require(["Video","core/VideoCore"],function(a,b){console.log("success")}),define("config",["es5-sham"],function(){require("es5-sham")});var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;if(this.versionSearchString=a[b].versionSearch||a[b].identity,c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b){var c=a.substring(b+this.versionSearchString.length+1);return parseFloat(c)}},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();